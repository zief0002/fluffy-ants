<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-07-22">

<title>EPsy 8252 - Log-Transforming the Outcome</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/pagedtable/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable/js/pagedtable.js"></script>
<script src="https://kit.fontawesome.com/e5da75ca36.js" crossorigin="anonymous"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../assets/sticky-notes.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">EPsy 8252</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assignments.html"> 
<span class="menu-text">Assignments &amp; Grading</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data.html"> 
<span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../class-policies.html"> 
<span class="menu-text">Class Policies</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../instructor.html"> 
<span class="menu-text">Instructor &amp; TA</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../mission-statements.html"> 
<span class="menu-text">Mission Statements</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../umn-policies.html"> 
<span class="menu-text">University Policies</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#preparation" id="toc-preparation" class="nav-link active" data-scroll-target="#preparation">Preparation</a></li>
  <li><a href="#relationship-between-wealth-and-carbon-emissions" id="toc-relationship-between-wealth-and-carbon-emissions" class="nav-link" data-scroll-target="#relationship-between-wealth-and-carbon-emissions">Relationship between Wealth and Carbon Emissions</a></li>
  <li><a href="#exponential-functions-another-non-linear-function" id="toc-exponential-functions-another-non-linear-function" class="nav-link" data-scroll-target="#exponential-functions-another-non-linear-function">Exponential Functions: Another Non-Linear Function</a>
  <ul class="collapse">
  <li><a href="#quick-refresher-on-exponents-and-logarithms" id="toc-quick-refresher-on-exponents-and-logarithms" class="nav-link" data-scroll-target="#quick-refresher-on-exponents-and-logarithms">Quick Refresher on Exponents and Logarithms</a></li>
  </ul></li>
  <li><a href="#workaround-for-lm" id="toc-workaround-for-lm" class="nav-link" data-scroll-target="#workaround-for-lm">Workaround for <code>lm()</code></a>
  <ul class="collapse">
  <li><a href="#log-transforming-variables" id="toc-log-transforming-variables" class="nav-link" data-scroll-target="#log-transforming-variables">Log-Transforming Variables</a></li>
  <li><a href="#relationship-between-log-transformed-co2-emissions-and-wealth" id="toc-relationship-between-log-transformed-co2-emissions-and-wealth" class="nav-link" data-scroll-target="#relationship-between-log-transformed-co2-emissions-and-wealth">Relationship between Log-Transformed CO2 Emissions and Wealth</a></li>
  </ul></li>
  <li><a href="#interpreting-the-regression-output" id="toc-interpreting-the-regression-output" class="nav-link" data-scroll-target="#interpreting-the-regression-output">Interpreting the Regression Output</a>
  <ul class="collapse">
  <li><a href="#better-interpretations-back-transforming-to-the-raw-metric" id="toc-better-interpretations-back-transforming-to-the-raw-metric" class="nav-link" data-scroll-target="#better-interpretations-back-transforming-to-the-raw-metric">Better Interpretations: Back-transforming to the Raw Metric</a>
  <ul class="collapse">
  <li><a href="#substituting-in-values-for-wealth-to-interpret-effects" id="toc-substituting-in-values-for-wealth-to-interpret-effects" class="nav-link" data-scroll-target="#substituting-in-values-for-wealth-to-interpret-effects">Substituting in Values for Wealth to Interpret Effects</a></li>
  </ul></li>
  <li><a href="#interpretation-of-the-rate-of-change-as-percent-change" id="toc-interpretation-of-the-rate-of-change-as-percent-change" class="nav-link" data-scroll-target="#interpretation-of-the-rate-of-change-as-percent-change">Interpretation of the Rate-of-Change as Percent Change</a></li>
  <li><a href="#plotting-the-fitted-model" id="toc-plotting-the-fitted-model" class="nav-link" data-scroll-target="#plotting-the-fitted-model">Plotting the Fitted Model</a></li>
  </ul></li>
  <li><a href="#using-a-different-base" id="toc-using-a-different-base" class="nav-link" data-scroll-target="#using-a-different-base">Using a Different Base</a></li>
  <li><a href="#one-more-base-base-e" id="toc-one-more-base-base-e" class="nav-link" data-scroll-target="#one-more-base-base-e">One More Base: Base-e</a>
  <ul class="collapse">
  <li><a href="#fitting-the-model-using-base-e-logarithms" id="toc-fitting-the-model-using-base-e-logarithms" class="nav-link" data-scroll-target="#fitting-the-model-using-base-e-logarithms">Fitting the Model Using Base-e Logarithms</a></li>
  <li><a href="#what-is-special-about-base-e" id="toc-what-is-special-about-base-e" class="nav-link" data-scroll-target="#what-is-special-about-base-e">What is Special About Base-e</a></li>
  </ul></li>
  <li><a href="#modeling-the-remaining-non-linearity" id="toc-modeling-the-remaining-non-linearity" class="nav-link" data-scroll-target="#modeling-the-remaining-non-linearity">Modeling the Remaining Non-Linearity</a>
  <ul class="collapse">
  <li><a href="#interpreting-the-effect-of-wealth" id="toc-interpreting-the-effect-of-wealth" class="nav-link" data-scroll-target="#interpreting-the-effect-of-wealth">Interpreting the Effect of Wealth</a></li>
  </ul></li>
  <li><a href="#rq-2-does-the-quadratic-effect-of-wealth-persist-after-controlling-for-urbanization" id="toc-rq-2-does-the-quadratic-effect-of-wealth-persist-after-controlling-for-urbanization" class="nav-link" data-scroll-target="#rq-2-does-the-quadratic-effect-of-wealth-persist-after-controlling-for-urbanization">RQ 2: Does the quadratic effect of wealth persist after controlling for urbanization?</a></li>
  <li><a href="#rq-3-does-the-effect-of-wealth-vary-between-world-regions" id="toc-rq-3-does-the-effect-of-wealth-vary-between-world-regions" class="nav-link" data-scroll-target="#rq-3-does-the-effect-of-wealth-vary-between-world-regions">RQ 3: Does the Effect of Wealth Vary Between World Regions?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Log-Transforming the Outcome</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 22, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="preparation" class="level1">
<h1>Preparation</h1>
<p>In this set of notes, you will learn another method for dealing with nonlinearity. Specifically, we will look at log-transforming the outcome in a linear model. This transformation can also help rectify violations of the normality and homogeneity of variance assumptions. To do so, we will use the <em>carbon.csv</em> dataset:</p>
<ul>
<li><a href="https://raw.githubusercontent.com/zief0002/benevolent-anteater/main/data/carbon.csv">CSV File</a></li>
<li><a href="http://zief0002.github.io/benevolent-anteater/codebooks/carbon.html">Data Codebook</a></li>
</ul>
<p>Our analytic goal will be to explain variation in worldwide carbon emissions. Specifically:</p>
<ul>
<li>What is the effect of a country’s wealth on carbon emissions?</li>
<li>Does this effect persist after controlling for urbanization?</li>
<li>Does this relationship vary between world regions?</li>
</ul>
<p>Within this work, we will use information theoretic approcaches (namely the AICc and related measures) to evaluate any fitted models.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AICcmodavg)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(educate) </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(texreg)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in data</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>carbon <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"https://raw.githubusercontent.com/zief0002/benevolent-anteater/main/data/carbon.csv"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>carbon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["co2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["wealth"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["urbanization"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Afghanistan","2":"Asia","3":"0.2540","4":"1.07038933","5":"3.3500"},{"1":"Albania","2":"Europe","3":"1.5900","4":"3.75488750","5":"1.3200"},{"1":"Algeria","2":"Africa","3":"3.6900","4":"3.53605290","5":"2.8100"},{"1":"Angola","2":"Africa","3":"1.1200","4":"2.71149491","5":"4.3100"},{"1":"Antigua and Barbuda","2":"Americas","3":"5.8800","4":"4.35755200","5":"0.4320"},{"1":"Argentina","2":"Americas","3":"4.4100","4":"4.49185310","5":"1.1500"},{"1":"Armenia","2":"Europe","3":"1.8900","4":"3.72246602","5":"0.3090"},{"1":"Australia","2":"Oceania","3":"16.9000","4":"5.60288441","5":"1.6600"},{"1":"Austria","2":"Europe","3":"7.7500","4":"5.81762326","5":"0.8360"},{"1":"Azerbaijan","2":"Europe","3":"3.7000","4":"3.78659636","5":"1.4700"},{"1":"Bahamas","2":"Americas","3":"4.7000","4":"5.12928302","5":"1.1300"},{"1":"Bahrain","2":"Asia","3":"19.8000","4":"5.48864354","5":"5.0300"},{"1":"Bangladesh","2":"Asia","3":"0.5310","4":"2.24792751","5":"3.1900"},{"1":"Barbados","2":"Americas","3":"4.4800","4":"3.93545975","5":"0.1050"},{"1":"Belarus","2":"Europe","3":"6.9300","4":"4.22496637","5":"0.3740"},{"1":"Belgium","2":"Europe","3":"8.6900","4":"5.72792045","5":"0.4960"},{"1":"Belize","2":"Americas","3":"1.5000","4":"2.77188558","5":"2.1900"},{"1":"Benin","2":"Africa","3":"0.6230","4":"1.67807190","5":"3.8900"},{"1":"Bhutan","2":"Asia","3":"1.6100","4":"3.40599236","5":"2.9700"},{"1":"Bolivia","2":"Americas","3":"1.9600","4":"3.11270013","5":"1.9200"},{"1":"Bosnia and Herzegovina","2":"Europe","3":"6.5300","4":"3.88752527","5":"-0.0592"},{"1":"Botswana","2":"Africa","3":"2.9600","4":"4.06177620","5":"3.2800"},{"1":"Brazil","2":"Americas","3":"2.1800","4":"3.86789646","5":"1.0800"},{"1":"Brunei","2":"Asia","3":"18.5000","4":"5.95884267","5":"1.4600"},{"1":"Bulgaria","2":"Europe","3":"6.3200","4":"4.47897180","5":"-0.2690"},{"1":"Burkina Faso","2":"Africa","3":"0.1980","4":"1.07038933","5":"4.9800"},{"1":"Burundi","2":"Africa","3":"0.0467","4":"-0.35845397","5":"5.7000"},{"1":"Cambodia","2":"Asia","3":"0.6400","4":"1.98913901","5":"3.2500"},{"1":"Cameroon","2":"Africa","3":"0.3230","4":"1.89917563","5":"3.6800"},{"1":"Canada","2":"Americas","3":"15.3000","4":"5.61765112","5":"1.4900"},{"1":"Cape Verde","2":"Africa","3":"1.1600","4":"2.77820858","5":"1.8800"},{"1":"Central African Republic","2":"Africa","3":"0.0651","4":"0.04264434","5":"2.4500"},{"1":"Chad","2":"Africa","3":"0.0656","4":"0.66902677","5":"3.9000"},{"1":"Chile","2":"Americas","3":"4.5900","4":"4.62058641","5":"1.4800"},{"1":"China","2":"Asia","3":"7.0600","4":"3.94485845","5":"2.5000"},{"1":"Colombia","2":"Americas","3":"1.9600","4":"3.87774425","5":"1.9400"},{"1":"Comoros","2":"Africa","3":"0.2630","4":"1.65076456","5":"2.8700"},{"1":"Congo, Dem. Rep.","2":"Africa","3":"0.0243","4":"0.11103131","5":"4.5400"},{"1":"Congo, Rep.","2":"Africa","3":"0.6170","4":"1.77820858","5":"3.2700"},{"1":"Costa Rica","2":"Americas","3":"1.6100","4":"4.33628339","5":"1.9800"},{"1":"Cote d'Ivoire","2":"Africa","3":"0.3350","4":"2.31034012","5":"3.4500"},{"1":"Croatia","2":"Europe","3":"4.4800","4":"4.83289001","5":"-0.4010"},{"1":"Cuba","2":"Americas","3":"2.5300","4":"NA","5":"0.0681"},{"1":"Cyprus","2":"Europe","3":"6.3000","4":"5.28909670","5":"0.7700"},{"1":"Czech Republic","2":"Europe","3":"9.9400","4":"5.28169825","5":"0.4930"},{"1":"Denmark","2":"Europe","3":"6.0600","4":"5.88508623","5":"0.6290"},{"1":"Djibouti","2":"Africa","3":"0.6720","4":"2.34766566","5":"1.7200"},{"1":"Dominican Republic","2":"Americas","3":"2.3400","4":"4.12101540","5":"2.0700"},{"1":"Ecuador","2":"Americas","3":"2.4600","4":"3.52356196","5":"2.0000"},{"1":"Egypt","2":"Africa","3":"2.4300","4":"3.49825087","5":"2.0300"},{"1":"El Salvador","2":"Americas","3":"1.1100","4":"3.05658353","5":"1.5500"},{"1":"Equatorial Guinea","2":"Africa","3":"4.3500","4":"4.00000000","5":"4.3400"},{"1":"Eritrea","2":"Africa","3":"0.2150","4":"0.94335876","5":"NA"},{"1":"Estonia","2":"Europe","3":"14.8000","4":"5.15785217","5":"0.5850"},{"1":"Eswatini","2":"Africa","3":"1.0600","4":"3.02325535","5":"1.7500"},{"1":"Ethiopia","2":"Africa","3":"0.1370","4":"1.09761080","5":"4.8300"},{"1":"Fiji","2":"Asia","3":"2.4100","4":"3.73335434","5":"1.5900"},{"1":"Finland","2":"Europe","3":"8.5200","4":"5.63807384","5":"0.1990"},{"1":"France","2":"Europe","3":"5.2000","4":"5.57591736","5":"0.6030"},{"1":"Gabon","2":"Africa","3":"2.5300","4":"3.81762326","5":"3.0500"},{"1":"Gambia","2":"Africa","3":"0.2680","4":"1.11769504","5":"4.0500"},{"1":"Georgia","2":"Europe","3":"2.6400","4":"3.80735492","5":"0.6470"},{"1":"Germany","2":"Europe","3":"9.1400","4":"5.83289001","5":"0.3670"},{"1":"Ghana","2":"Africa","3":"0.6150","4":"2.37851162","5":"3.3600"},{"1":"Greece","2":"Europe","3":"7.0300","4":"4.87282876","5":"0.2210"},{"1":"Grenada","2":"Americas","3":"2.4300","4":"3.96347412","5":"0.8170"},{"1":"Guatemala","2":"Americas","3":"1.0700","4":"3.08576455","5":"2.3400"},{"1":"Guinea","2":"Africa","3":"0.2560","4":"1.30451104","5":"3.8000"},{"1":"Guinea-Bissau","2":"Africa","3":"0.1810","4":"0.91073266","5":"3.4600"},{"1":"Guyana","2":"Americas","3":"3.1200","4":"3.66675659","5":"0.7440"},{"1":"Haiti","2":"Americas","3":"0.2700","4":"1.70043972","5":"2.9700"},{"1":"Honduras","2":"Americas","3":"1.0400","4":"2.42223300","5":"2.7900"},{"1":"Hong Kong, China","2":"Asia","3":"5.8600","4":"6.03342300","5":"0.7990"},{"1":"Hungary","2":"Europe","3":"5.1400","4":"4.94016675","5":"0.2790"},{"1":"Iceland","2":"Europe","3":"10.8000","4":"5.76288029","5":"2.7200"},{"1":"India","2":"Asia","3":"1.9600","4":"2.72246602","5":"2.3100"},{"1":"Indonesia","2":"Asia","3":"2.3000","4":"3.49825087","5":"2.3500"},{"1":"Iran","2":"Asia","3":"8.8100","4":"3.79701298","5":"2.0600"},{"1":"Iraq","2":"Asia","3":"5.3200","4":"3.41953889","5":"2.6000"},{"1":"Ireland","2":"Europe","3":"8.0900","4":"6.03342300","5":"1.5900"},{"1":"Israel","2":"Asia","3":"7.6700","4":"5.31831684","5":"2.0200"},{"1":"Italy","2":"Europe","3":"5.5800","4":"5.44294350","5":"0.2280"},{"1":"Jamaica","2":"Americas","3":"2.7900","4":"3.26153081","5":"1.0100"},{"1":"Japan","2":"Asia","3":"9.1400","4":"5.45285896","5":"-0.1140"},{"1":"Jordan","2":"Asia","3":"2.4200","4":"3.35049725","5":"2.0700"},{"1":"Kazakhstan","2":"Asia","3":"17.6000","4":"4.51727569","5":"1.4700"},{"1":"Kenya","2":"Africa","3":"0.3600","4":"2.13093087","5":"4.0500"},{"1":"Kiribati","2":"Asia","3":"0.6010","4":"2.10097765","5":"2.9500"},{"1":"Kuwait","2":"Asia","3":"23.7000","4":"5.87036472","5":"1.9800"},{"1":"Kyrgyzstan","2":"Asia","3":"1.6000","4":"2.35049725","5":"2.5900"},{"1":"Lao","2":"Asia","3":"2.7400","4":"2.88947354","5":"3.3800"},{"1":"Latvia","2":"Europe","3":"3.7300","4":"4.92599942","5":"-0.6810"},{"1":"Lebanon","2":"Asia","3":"3.5300","4":"4.00000000","5":"0.7710"},{"1":"Lesotho","2":"Africa","3":"1.2600","4":"1.60880924","5":"2.3100"},{"1":"Liberia","2":"Africa","3":"0.3240","4":"0.46466827","5":"3.3400"},{"1":"Libya","2":"Africa","3":"8.0900","4":"3.97269265","5":"1.8300"},{"1":"Lithuania","2":"Europe","3":"4.8400","4":"5.14159628","5":"-0.7130"},{"1":"Luxembourg","2":"Europe","3":"15.9000","4":"6.37155886","5":"2.2100"},{"1":"Madagascar","2":"Africa","3":"0.1630","4":"0.66902677","5":"4.4800"},{"1":"Malawi","2":"Africa","3":"0.0762","4":"0.56559718","5":"3.9700"},{"1":"Malaysia","2":"Asia","3":"8.0800","4":"4.77610399","5":"2.1300"},{"1":"Maldives","2":"Asia","3":"2.9600","4":"4.12928302","5":"4.9000"},{"1":"Mali","2":"Africa","3":"0.1870","4":"1.18269230","5":"4.8800"},{"1":"Malta","2":"Europe","3":"3.6100","4":"5.35755200","5":"3.5600"},{"1":"Marshall Islands","2":"Oceania","3":"2.5800","4":"2.31903982","5":"1.1300"},{"1":"Mauritania","2":"Africa","3":"0.6050","4":"2.40326772","5":"4.3700"},{"1":"Mauritius","2":"Africa","3":"3.8300","4":"4.67242534","5":"-0.0631"},{"1":"Mexico","2":"Americas","3":"3.7900","4":"4.29278175","5":"1.4900"},{"1":"Micronesia","2":"Asia","3":"1.3400","4":"1.85996955","5":"1.4700"},{"1":"Moldova","2":"Europe","3":"1.2700","4":"3.73335434","5":"-1.5500"},{"1":"Mongolia","2":"Asia","3":"8.8800","4":"3.48542683","5":"1.9200"},{"1":"Montenegro","2":"Europe","3":"3.2000","4":"4.44625623","5":"0.4810"},{"1":"Morocco","2":"Africa","3":"1.8400","4":"2.90303827","5":"2.1300"},{"1":"Mozambique","2":"Africa","3":"0.2810","4":"0.36737107","5":"4.4100"},{"1":"Myanmar","2":"Asia","3":"0.4910","4":"2.15055968","5":"1.4500"},{"1":"Namibia","2":"Africa","3":"1.7500","4":"3.31469653","5":"3.9600"},{"1":"Nauru","2":"Oceania","3":"4.7100","4":"4.22496637","5":"0.9500"},{"1":"Nepal","2":"Asia","3":"0.3370","4":"1.95977015","5":"3.7300"},{"1":"Netherlands","2":"Europe","3":"9.4800","4":"5.87036472","5":"1.0400"},{"1":"New Zealand","2":"Oceania","3":"7.3400","4":"5.35755200","5":"1.8700"},{"1":"Nicaragua","2":"Americas","3":"0.8620","4":"2.47767733","5":"1.6400"},{"1":"Niger","2":"Africa","3":"0.1030","4":"0.36737107","5":"4.2700"},{"1":"Nigeria","2":"Africa","3":"0.6500","4":"2.33342373","5":"4.2400"},{"1":"North Korea","2":"Asia","3":"NA","4":"NA","5":"0.8280"},{"1":"North Macedonia","2":"Europe","3":"3.4900","4":"4.00898878","5":"0.6890"},{"1":"Norway","2":"Europe","3":"8.3100","4":"6.17791779","5":"1.1200"},{"1":"Oman","2":"Asia","3":"13.9000","4":"4.97269265","5":"4.6100"},{"1":"Pakistan","2":"Asia","3":"1.0500","4":"2.25398927","5":"2.6700"},{"1":"Palau","2":"Oceania","3":"13.2000","4":"4.27798475","5":"1.2800"},{"1":"Palestine","2":"Asia","3":"0.6610","4":"2.92219785","5":"2.8900"},{"1":"Panama","2":"Americas","3":"2.6200","4":"4.88752527","5":"2.2000"},{"1":"Papua New Guinea","2":"Asia","3":"0.9110","4":"2.06350294","5":"2.4800"},{"1":"Paraguay","2":"Americas","3":"1.0700","4":"3.66675659","5":"1.7500"},{"1":"Peru","2":"Americas","3":"1.7400","4":"3.63226821","5":"1.9600"},{"1":"Philippines","2":"Asia","3":"1.2700","4":"3.27052894","5":"1.8800"},{"1":"Poland","2":"Europe","3":"9.0700","4":"4.93545975","5":"-0.0784"},{"1":"Portugal","2":"Europe","3":"4.9700","4":"5.09169983","5":"0.7010"},{"1":"Qatar","2":"Asia","3":"38.0000","4":"6.51254295","5":"2.1300"},{"1":"Romania","2":"Europe","3":"3.8000","4":"4.84799691","5":"-0.4730"},{"1":"Russia","2":"Europe","3":"11.7000","4":"4.81249822","5":"0.1770"},{"1":"Rwanda","2":"Africa","3":"0.0913","4":"1.04264434","5":"3.1500"},{"1":"Samoa","2":"Asia","3":"1.3200","4":"2.65764001","5":"-0.7430"},{"1":"Sao Tome and Principe","2":"Africa","3":"0.5870","4":"2.03210084","5":"3.0400"},{"1":"Saudi Arabia","2":"Asia","3":"18.4000","4":"5.62058641","5":"2.0700"},{"1":"Senegal","2":"Africa","3":"0.7390","4":"1.72246602","5":"3.7400"},{"1":"Serbia","2":"Europe","3":"5.1700","4":"4.07038933","5":"-0.2790"},{"1":"Seychelles","2":"Africa","3":"6.7500","4":"4.78135971","5":"1.7200"},{"1":"Sierra Leone","2":"Africa","3":"0.1410","4":"0.65992456","5":"3.1400"},{"1":"Singapore","2":"Asia","3":"7.1000","4":"6.47411151","5":"0.4700"},{"1":"Slovak Republic","2":"Europe","3":"6.6100","4":"4.94485845","5":"0.0920"},{"1":"Slovenia","2":"Europe","3":"6.9500","4":"5.26303441","5":"0.8550"},{"1":"Solomon Islands","2":"Asia","3":"0.2730","4":"1.44890095","5":"4.5800"},{"1":"Somalia","2":"Africa","3":"0.0466","4":"0.20163386","5":"4.1300"},{"1":"South Africa","2":"Africa","3":"8.1000","4":"3.78659636","5":"2.1300"},{"1":"South Korea","2":"Asia","3":"12.9000","4":"5.43295941","5":"0.3800"},{"1":"Spain","2":"Europe","3":"5.7500","4":"5.35049725","5":"0.7380"},{"1":"Sri Lanka","2":"Asia","3":"1.1000","4":"3.67807190","5":"1.5500"},{"1":"St. Lucia","2":"Americas","3":"2.3100","4":"3.88752527","5":"0.8690"},{"1":"St. Vincent and the Grenadines","2":"Americas","3":"2.0300","4":"3.66675659","5":"1.1500"},{"1":"Sudan","2":"Africa","3":"0.5040","4":"2.07382023","5":"3.1800"},{"1":"Suriname","2":"Americas","3":"3.1000","4":"4.13750352","5":"0.9860"},{"1":"Sweden","2":"Europe","3":"4.1200","4":"5.76818433","5":"1.4900"},{"1":"Switzerland","2":"Europe","3":"4.3300","4":"6.10433666","5":"0.7850"},{"1":"Syria","2":"Asia","3":"1.6700","4":"2.22774108","5":"0.3450"},{"1":"Taiwan","2":"Asia","3":"11.6000","4":"5.97030150","5":"NA"},{"1":"Tajikistan","2":"Asia","3":"0.6030","4":"2.01792191","5":"3.0200"},{"1":"Tanzania","2":"Africa","3":"0.2220","4":"1.38956681","5":"5.1400"},{"1":"Thailand","2":"Asia","3":"4.1500","4":"4.13750352","5":"1.8300"},{"1":"Timor-Leste","2":"Asia","3":"0.4120","4":"2.17951105","5":"3.1700"},{"1":"Togo","2":"Africa","3":"0.4340","4":"1.08406427","5":"3.7500"},{"1":"Tonga","2":"Asia","3":"1.3100","4":"2.79908731","5":"1.0000"},{"1":"Trinidad and Tobago","2":"Americas","3":"31.3000","4":"4.70597790","5":"0.3770"},{"1":"Tunisia","2":"Africa","3":"2.7300","4":"3.49825087","5":"1.5900"},{"1":"Turkey","2":"Europe","3":"5.2000","4":"4.78135971","5":"2.1600"},{"1":"Turkmenistan","2":"Asia","3":"13.7000","4":"3.86789646","5":"2.4600"},{"1":"Tuvalu","2":"Oceania","3":"1.0100","4":"2.60407132","5":"2.6100"},{"1":"Uganda","2":"Africa","3":"0.1350","4":"1.07724300","5":"6.1900"},{"1":"Ukraine","2":"Europe","3":"5.0900","4":"3.67807190","5":"-0.3130"},{"1":"United Arab Emirates","2":"Asia","3":"21.4000","4":"6.10433666","5":"1.8200"},{"1":"United Kingdom","2":"Europe","3":"5.6500","4":"5.55151602","5":"0.9120"},{"1":"United States","2":"Americas","3":"16.6000","4":"6.00225245","5":"0.7670"},{"1":"Uruguay","2":"Americas","3":"2.0100","4":"4.47897180","5":"0.4660"},{"1":"Uzbekistan","2":"Asia","3":"2.8100","4":"2.89917563","5":"1.5900"},{"1":"Vanuatu","2":"Asia","3":"0.5290","4":"1.70487196","5":"2.9200"},{"1":"Venezuela","2":"Americas","3":"4.8100","4":"2.61022759","5":"-1.7400"},{"1":"Vietnam","2":"Asia","3":"2.1600","4":"2.86195536","5":"2.9800"},{"1":"Yemen","2":"Asia","3":"0.3560","4":"0.99783433","5":"4.0800"},{"1":"Zambia","2":"Africa","3":"0.3020","4":"1.82781902","5":"4.1700"},{"1":"Zimbabwe","2":"Africa","3":"0.8500","4":"1.98185265","5":"1.3200"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="relationship-between-wealth-and-carbon-emissions" class="level1">
<h1>Relationship between Wealth and Carbon Emissions</h1>
<p>To being the analysis, we will examine the marginal distributions of wealth (predictor) and carbon emissions (outcome), as well as a scatterplot between them for our sample data.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Marginal distribution of co2 (outcome)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> co2)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Carbon emissions (metric tons per person)"</span>) <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Probability density"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Marginal distribution of wealth (predictor)</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth)) <span class="sc">+</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Probability density"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> co2)) <span class="sc">+</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Carbon emissions (metric tons per person)"</span>) <span class="sc">+</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">6.4</span>, <span class="at">y =</span> <span class="dv">38</span>, <span class="at">label =</span> <span class="st">"Quatar"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">4.6</span>, <span class="at">y =</span> <span class="fl">31.3</span>, <span class="at">label =</span> <span class="st">"Trinidad and Tobago"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">1</span>) </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Place figures side-by-side</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">/</span> p2) <span class="sc">|</span>  p3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-exploration" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-exploration-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-exploration-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-exploration-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Density plot of the distribution of carbon dioxide emissions (LEFT) and wealth (CENTER). The scatterplot (RIGHT) shows the relationship between wealth and carbon dioxide emissions. The loess smoother (blue line) is also displayed on the scatterplot. Two countries having extreme CO2 emissions are also identified.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The distribution of CO2 emissions is severely right-skewed. Although the median emissions is around 2.5 metric tons per person, the plot shows evidence that several countries have high emissions. The distribution of wealth is more symmetric (perhaps a little left-skewed), with most countries having a weath level around 3.5.</p>
<p>The scatterplot suggests a positive, nonlinear relationship between wealth and CO2 emissions; countries that are wealthier also tend to have higher CO2 emissions. It also suggests that there is more variation in CO2 emissions at higher levels of wealth than at lower levels of wealth—potential violation of the homoskedasticity assumption. The curvilinear relationship between wealth and carbon emissions suggests that we may want to include a quadratic effect of wealth in the model. We fit both a linear and quadratic model and show the residual plots for both models in <a href="#fig-resid-model-linear" class="quarto-xref">Figure&nbsp;2</a>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit model</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.1</span> <span class="ot">=</span> <span class="fu">lm</span>(co2 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth, <span class="at">data =</span> carbon)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.2</span> <span class="ot">=</span> <span class="fu">lm</span>(co2 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth <span class="sc">+</span> <span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>), <span class="at">data =</span> carbon)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtain residual plots</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">residual_plots</span>(lm<span class="fl">.1</span>) <span class="sc">/</span> <span class="fu">residual_plots</span>(lm<span class="fl">.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-resid-model-linear" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-resid-model-linear-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-resid-model-linear-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-resid-model-linear-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Density plot of the standardized residuals (LEFT) and scatterplot of the standarized residuals versus the fitted values (RIGHT) from regressing CO2 emissions on wealth in a linear model (TOP) and in a model that includes a quadratic effect of wealth (BOTTOM). The reference line of Y=0 is also displayed in the scatterplot along with the 95% confidence envelope (grey shaded area). The loess smoother (solid, blue line) shows the empirical relationship betwen the residuals and fitted values.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The plots from the linear model show clear violations of almost every assumption. By including a quadratic effect of wealth in the model, we have mitigated the “linearity” assumption; the average residual is 0 in this model. However, the residual plots still suggest violations of the normality assumption and of the assumption of homoskedasticity.</p>
<p><br></p>
</section>
<section id="exponential-functions-another-non-linear-function" class="level1">
<h1>Exponential Functions: Another Non-Linear Function</h1>
<p>We do not have to use a quadratic function to model curvilinear relationships. We can use any mathematical function that mimics the curvilinear pattern observed in the data.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> One mathematical function that is useful for modeling curvilinearity is the exponential function. The exponential function is shown in the right-hand side of the figure below.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fig_01 <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="dv">3</span>, <span class="at">to =</span> <span class="dv">5</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y =</span>  (x<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> fig_01, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"X"</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Y"</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Quadratic Function"</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>fig_02 <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="fl">0.1</span>, <span class="at">to =</span> <span class="dv">5</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y =</span>  <span class="dv">2</span><span class="sc">^</span>x)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> fig_02, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"X"</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Y"</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Exponential Function"</span>)</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Layout the plots</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">|</span> p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-quadratic-log" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-quadratic-log-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-quadratic-log-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-quadratic-log-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: LEFT: Negative quadratic function of <em>X</em>. RIGHT: Logarithmic function of <em>X</em>.
</figcaption>
</figure>
</div>
</div>
</div>
<p>These two functions have some similarities. They both model non-linear growth (continuous and increasing growth). However, in the quadratic function, the parabola changes direction (<em>y</em>-values decrease until some <em>x</em>-value, at which point the <em>y</em>-values increase). The exponential function, on the other hand, does not change direction—it continues to grow, at ever increasing amounts.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>To fit an exponential function we need to choose a <em>base</em> for the function and then we raise the right-hand side of our fitted equation using that base. For example, if we choose the base of 2, our fitted equation would be:</p>
<p><span class="math display">\[
\hat{Y}_i = 2^{\hat\beta_0 + \hat\beta_1(X_i)}
\]</span></p>
<p>Unfortunately, the <code>lm()</code> function does not allow us to fit this directly. There is, however, a workaround that we can employ. But, to do so, requires us to understand the relationship between exponents and logarithms.</p>
<!-- As you consider different mathematical functions, it is important to consider the substantive knowledge in an area. For example, while empirically both the quadratic polynomial model and the exponential model might both suggest reasonable fit to the data, in this context, the logarithmic model might be a more substantively sound model than the quadratic polynomial model. We would probably expect that the effect of SAT on graduation rate would diminish for schools with higher median SAT scores, but that it wouldn't actually change direction. (This would mean that at some value, an increase in SAT would be asociated with a lower graduation rate!) -->
<p><br></p>
<section id="quick-refresher-on-exponents-and-logarithms" class="level2">
<h2 class="anchored" data-anchor-id="quick-refresher-on-exponents-and-logarithms">Quick Refresher on Exponents and Logarithms</h2>
<p>The logarithm is an inverse function of an exponent. Consider this example,</p>
<p><span class="math display">\[
\log_2 (32)
\]</span></p>
<p>The base-2 logarithm of 32 is the exponent to which the base, 2 in our example, must be raised to produce 32. Mathematically it is equivalent to solving the following equation for <em>x</em>:</p>
<p><span class="math display">\[
\begin{split}
2^{x} &amp;= 32 \\
x &amp;= 5
\end{split}
\]</span></p>
<p>Thus,</p>
<p><span class="math display">\[
\log_2 (32) = 5
\]</span></p>
<p>To compute a logarithm using R, we use the <code>log()</code> function. We also specify the argument <code>base=</code>, since logarithms are unique to a particular base. For example, to compute the mathematical expression <span class="math inline">\(\log_2 (32)\)</span>, we use</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">32</span>, <span class="at">base =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>There is also a shortcut function to use base-2.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log2</span>(<span class="dv">32</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="workaround-for-lm" class="level1">
<h1>Workaround for <code>lm()</code></h1>
<p>Recall that what we want to fit is the following exponential model:</p>
<p><span class="math display">\[
\hat{Y}_i = 2^{\hat\beta_0 + \hat\beta_1(X_i)}
\]</span></p>
<p>What we will do is take the base-2 logarithm of both sides of the equation:</p>
<p><span class="math display">\[
\log_2(\hat{Y}_i) = \log_2\bigg(2^{\hat\beta_0 + \hat\beta_1(X_i)}\bigg)
\]</span></p>
<p>Since logarithms and exponents are inverse functions, the log and power on right-hand side of the equation cancel out and we are left with:</p>
<p><span class="math display">\[
\log_2(\hat{Y}_i) = \hat\beta_0 + \hat\beta_1(X_i)
\]</span></p>
<p>That is, we can regress the log-transformed values of <em>Y</em> onto <em>X</em>.</p>
<p><br></p>
<section id="log-transforming-variables" class="level2">
<h2 class="anchored" data-anchor-id="log-transforming-variables">Log-Transforming Variables</h2>
<p>For our purposes, we need to log-transform each value of the <em>Y</em> attribute, namely the CO2 values in our data. Here, we will log-transform the CO2 values (using base-2). To do this we create a new column called <code>l2co2</code> using the <code>mutate()</code> function.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create base-2 log-transformed CO2 values</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>carbon <span class="ot">=</span> carbon <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">l2co2 =</span> <span class="fu">log</span>(co2, <span class="at">base =</span> <span class="dv">2</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>carbon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["co2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["wealth"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["urbanization"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["l2co2"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"Afghanistan","2":"Asia","3":"0.2540","4":"1.07038933","5":"3.3500","6":"-1.97709960"},{"1":"Albania","2":"Europe","3":"1.5900","4":"3.75488750","5":"1.3200","6":"0.66902677"},{"1":"Algeria","2":"Africa","3":"3.6900","4":"3.53605290","5":"2.8100","6":"1.88362082"},{"1":"Angola","2":"Africa","3":"1.1200","4":"2.71149491","5":"4.3100","6":"0.16349873"},{"1":"Antigua and Barbuda","2":"Americas","3":"5.8800","4":"4.35755200","5":"0.4320","6":"2.55581616"},{"1":"Argentina","2":"Americas","3":"4.4100","4":"4.49185310","5":"1.1500","6":"2.14077866"},{"1":"Armenia","2":"Europe","3":"1.8900","4":"3.72246602","5":"0.3090","6":"0.91838623"},{"1":"Australia","2":"Oceania","3":"16.9000","4":"5.60288441","5":"1.6600","6":"4.07895134"},{"1":"Austria","2":"Europe","3":"7.7500","4":"5.81762326","5":"0.8360","6":"2.95419631"},{"1":"Azerbaijan","2":"Europe","3":"3.7000","4":"3.78659636","5":"1.4700","6":"1.88752527"},{"1":"Bahamas","2":"Americas","3":"4.7000","4":"5.12928302","5":"1.1300","6":"2.23266076"},{"1":"Bahrain","2":"Asia","3":"19.8000","4":"5.48864354","5":"5.0300","6":"4.30742853"},{"1":"Bangladesh","2":"Asia","3":"0.5310","4":"2.24792751","5":"3.1900","6":"-0.91321623"},{"1":"Barbados","2":"Americas","3":"4.4800","4":"3.93545975","5":"0.1050","6":"2.16349873"},{"1":"Belarus","2":"Europe","3":"6.9300","4":"4.22496637","5":"0.3740","6":"2.79285535"},{"1":"Belgium","2":"Europe","3":"8.6900","4":"5.72792045","5":"0.4960","6":"3.11935618"},{"1":"Belize","2":"Americas","3":"1.5000","4":"2.77188558","5":"2.1900","6":"0.58496250"},{"1":"Benin","2":"Africa","3":"0.6230","4":"1.67807190","5":"3.8900","6":"-0.68269593"},{"1":"Bhutan","2":"Asia","3":"1.6100","4":"3.40599236","5":"2.9700","6":"0.68706069"},{"1":"Bolivia","2":"Americas","3":"1.9600","4":"3.11270013","5":"1.9200","6":"0.97085365"},{"1":"Bosnia and Herzegovina","2":"Europe","3":"6.5300","4":"3.88752527","5":"-0.0592","6":"2.70708299"},{"1":"Botswana","2":"Africa","3":"2.9600","4":"4.06177620","5":"3.2800","6":"1.56559718"},{"1":"Brazil","2":"Americas","3":"2.1800","4":"3.86789646","5":"1.0800","6":"1.12432814"},{"1":"Brunei","2":"Asia","3":"18.5000","4":"5.95884267","5":"1.4600","6":"4.20945337"},{"1":"Bulgaria","2":"Europe","3":"6.3200","4":"4.47897180","5":"-0.2690","6":"2.65992456"},{"1":"Burkina Faso","2":"Africa","3":"0.1980","4":"1.07038933","5":"4.9800","6":"-2.33642766"},{"1":"Burundi","2":"Africa","3":"0.0467","4":"-0.35845397","5":"5.7000","6":"-4.42043364"},{"1":"Cambodia","2":"Asia","3":"0.6400","4":"1.98913901","5":"3.2500","6":"-0.64385619"},{"1":"Cameroon","2":"Africa","3":"0.3230","4":"1.89917563","5":"3.6800","6":"-1.63039393"},{"1":"Canada","2":"Americas","3":"15.3000","4":"5.61765112","5":"1.4900","6":"3.93545975"},{"1":"Cape Verde","2":"Africa","3":"1.1600","4":"2.77820858","5":"1.8800","6":"0.21412481"},{"1":"Central African Republic","2":"Africa","3":"0.0651","4":"0.04264434","5":"2.4500","6":"-3.94119865"},{"1":"Chad","2":"Africa","3":"0.0656","4":"0.66902677","5":"3.9000","6":"-3.93016037"},{"1":"Chile","2":"Americas","3":"4.5900","4":"4.62058641","5":"1.4800","6":"2.19849415"},{"1":"China","2":"Asia","3":"7.0600","4":"3.94485845","5":"2.5000","6":"2.81966818"},{"1":"Colombia","2":"Americas","3":"1.9600","4":"3.87774425","5":"1.9400","6":"0.97085365"},{"1":"Comoros","2":"Africa","3":"0.2630","4":"1.65076456","5":"2.8700","6":"-1.92686530"},{"1":"Congo, Dem. Rep.","2":"Africa","3":"0.0243","4":"0.11103131","5":"4.5400","6":"-5.36289988"},{"1":"Congo, Rep.","2":"Africa","3":"0.6170","4":"1.77820858","5":"3.2700","6":"-0.69665761"},{"1":"Costa Rica","2":"Americas","3":"1.6100","4":"4.33628339","5":"1.9800","6":"0.68706069"},{"1":"Cote d'Ivoire","2":"Africa","3":"0.3350","4":"2.31034012","5":"3.4500","6":"-1.57776700"},{"1":"Croatia","2":"Europe","3":"4.4800","4":"4.83289001","5":"-0.4010","6":"2.16349873"},{"1":"Cuba","2":"Americas","3":"2.5300","4":"NA","5":"0.0681","6":"1.33913738"},{"1":"Cyprus","2":"Europe","3":"6.3000","4":"5.28909670","5":"0.7700","6":"2.65535183"},{"1":"Czech Republic","2":"Europe","3":"9.9400","4":"5.28169825","5":"0.4930","6":"3.31324585"},{"1":"Denmark","2":"Europe","3":"6.0600","4":"5.88508623","5":"0.6290","6":"2.59931779"},{"1":"Djibouti","2":"Africa","3":"0.6720","4":"2.34766566","5":"1.7200","6":"-0.57346686"},{"1":"Dominican Republic","2":"Americas","3":"2.3400","4":"4.12101540","5":"2.0700","6":"1.22650853"},{"1":"Ecuador","2":"Americas","3":"2.4600","4":"3.52356196","5":"2.0000","6":"1.29865832"},{"1":"Egypt","2":"Africa","3":"2.4300","4":"3.49825087","5":"2.0300","6":"1.28095631"},{"1":"El Salvador","2":"Americas","3":"1.1100","4":"3.05658353","5":"1.5500","6":"0.15055968"},{"1":"Equatorial Guinea","2":"Africa","3":"4.3500","4":"4.00000000","5":"4.3400","6":"2.12101540"},{"1":"Eritrea","2":"Africa","3":"0.2150","4":"0.94335876","5":"NA","6":"-2.21759144"},{"1":"Estonia","2":"Europe","3":"14.8000","4":"5.15785217","5":"0.5850","6":"3.88752527"},{"1":"Eswatini","2":"Africa","3":"1.0600","4":"3.02325535","5":"1.7500","6":"0.08406426"},{"1":"Ethiopia","2":"Africa","3":"0.1370","4":"1.09761080","5":"4.8300","6":"-2.86775220"},{"1":"Fiji","2":"Asia","3":"2.4100","4":"3.73335434","5":"1.5900","6":"1.26903315"},{"1":"Finland","2":"Europe","3":"8.5200","4":"5.63807384","5":"0.1990","6":"3.09085343"},{"1":"France","2":"Europe","3":"5.2000","4":"5.57591736","5":"0.6030","6":"2.37851162"},{"1":"Gabon","2":"Africa","3":"2.5300","4":"3.81762326","5":"3.0500","6":"1.33913738"},{"1":"Gambia","2":"Africa","3":"0.2680","4":"1.11769504","5":"4.0500","6":"-1.89969509"},{"1":"Georgia","2":"Europe","3":"2.6400","4":"3.80735492","5":"0.6470","6":"1.40053793"},{"1":"Germany","2":"Europe","3":"9.1400","4":"5.83289001","5":"0.3670","6":"3.19219417"},{"1":"Ghana","2":"Africa","3":"0.6150","4":"2.37851162","5":"3.3600","6":"-0.70134168"},{"1":"Greece","2":"Europe","3":"7.0300","4":"4.87282876","5":"0.2210","6":"2.81352469"},{"1":"Grenada","2":"Americas","3":"2.4300","4":"3.96347412","5":"0.8170","6":"1.28095631"},{"1":"Guatemala","2":"Americas","3":"1.0700","4":"3.08576455","5":"2.3400","6":"0.09761080"},{"1":"Guinea","2":"Africa","3":"0.2560","4":"1.30451104","5":"3.8000","6":"-1.96578428"},{"1":"Guinea-Bissau","2":"Africa","3":"0.1810","4":"0.91073266","5":"3.4600","6":"-2.46593840"},{"1":"Guyana","2":"Americas","3":"3.1200","4":"3.66675659","5":"0.7440","6":"1.64154603"},{"1":"Haiti","2":"Americas","3":"0.2700","4":"1.70043972","5":"2.9700","6":"-1.88896869"},{"1":"Honduras","2":"Americas","3":"1.0400","4":"2.42223300","5":"2.7900","6":"0.05658353"},{"1":"Hong Kong, China","2":"Asia","3":"5.8600","4":"6.03342300","5":"0.7990","6":"2.55090066"},{"1":"Hungary","2":"Europe","3":"5.1400","4":"4.94016675","5":"0.2790","6":"2.36176836"},{"1":"Iceland","2":"Europe","3":"10.8000","4":"5.76288029","5":"2.7200","6":"3.43295941"},{"1":"India","2":"Asia","3":"1.9600","4":"2.72246602","5":"2.3100","6":"0.97085365"},{"1":"Indonesia","2":"Asia","3":"2.3000","4":"3.49825087","5":"2.3500","6":"1.20163386"},{"1":"Iran","2":"Asia","3":"8.8100","4":"3.79701298","5":"2.0600","6":"3.13914202"},{"1":"Iraq","2":"Asia","3":"5.3200","4":"3.41953889","5":"2.6000","6":"2.41142625"},{"1":"Ireland","2":"Europe","3":"8.0900","4":"6.03342300","5":"1.5900","6":"3.01613970"},{"1":"Israel","2":"Asia","3":"7.6700","4":"5.31831684","5":"2.0200","6":"2.93922658"},{"1":"Italy","2":"Europe","3":"5.5800","4":"5.44294350","5":"0.2280","6":"2.48026512"},{"1":"Jamaica","2":"Americas","3":"2.7900","4":"3.26153081","5":"1.0100","6":"1.48026512"},{"1":"Japan","2":"Asia","3":"9.1400","4":"5.45285896","5":"-0.1140","6":"3.19219417"},{"1":"Jordan","2":"Asia","3":"2.4200","4":"3.35049725","5":"2.0700","6":"1.27500705"},{"1":"Kazakhstan","2":"Asia","3":"17.6000","4":"4.51727569","5":"1.4700","6":"4.13750352"},{"1":"Kenya","2":"Africa","3":"0.3600","4":"2.13093087","5":"4.0500","6":"-1.47393119"},{"1":"Kiribati","2":"Asia","3":"0.6010","4":"2.10097765","5":"2.9500","6":"-0.73456310"},{"1":"Kuwait","2":"Asia","3":"23.7000","4":"5.87036472","5":"1.9800","6":"4.56681515"},{"1":"Kyrgyzstan","2":"Asia","3":"1.6000","4":"2.35049725","5":"2.5900","6":"0.67807191"},{"1":"Lao","2":"Asia","3":"2.7400","4":"2.88947354","5":"3.3800","6":"1.45417589"},{"1":"Latvia","2":"Europe","3":"3.7300","4":"4.92599942","5":"-0.6810","6":"1.89917563"},{"1":"Lebanon","2":"Asia","3":"3.5300","4":"4.00000000","5":"0.7710","6":"1.81966818"},{"1":"Lesotho","2":"Africa","3":"1.2600","4":"1.60880924","5":"2.3100","6":"0.33342373"},{"1":"Liberia","2":"Africa","3":"0.3240","4":"0.46466827","5":"3.3400","6":"-1.62593428"},{"1":"Libya","2":"Africa","3":"8.0900","4":"3.97269265","5":"1.8300","6":"3.01613970"},{"1":"Lithuania","2":"Europe","3":"4.8400","4":"5.14159628","5":"-0.7130","6":"2.27500705"},{"1":"Luxembourg","2":"Europe","3":"15.9000","4":"6.37155886","5":"2.2100","6":"3.99095486"},{"1":"Madagascar","2":"Africa","3":"0.1630","4":"0.66902677","5":"4.4800","6":"-2.61705613"},{"1":"Malawi","2":"Africa","3":"0.0762","4":"0.56559718","5":"3.9700","6":"-3.71406519"},{"1":"Malaysia","2":"Asia","3":"8.0800","4":"4.77610399","5":"2.1300","6":"3.01435529"},{"1":"Maldives","2":"Asia","3":"2.9600","4":"4.12928302","5":"4.9000","6":"1.56559718"},{"1":"Mali","2":"Africa","3":"0.1870","4":"1.18269230","5":"4.8800","6":"-2.41888982"},{"1":"Malta","2":"Europe","3":"3.6100","4":"5.35755200","5":"3.5600","6":"1.85199884"},{"1":"Marshall Islands","2":"Oceania","3":"2.5800","4":"2.31903982","5":"1.1300","6":"1.36737107"},{"1":"Mauritania","2":"Africa","3":"0.6050","4":"2.40326772","5":"4.3700","6":"-0.72499295"},{"1":"Mauritius","2":"Africa","3":"3.8300","4":"4.67242534","5":"-0.0631","6":"1.93734439"},{"1":"Mexico","2":"Americas","3":"3.7900","4":"4.29278175","5":"1.4900","6":"1.92219785"},{"1":"Micronesia","2":"Asia","3":"1.3400","4":"1.85996955","5":"1.4700","6":"0.42223300"},{"1":"Moldova","2":"Europe","3":"1.2700","4":"3.73335434","5":"-1.5500","6":"0.34482850"},{"1":"Mongolia","2":"Asia","3":"8.8800","4":"3.48542683","5":"1.9200","6":"3.15055968"},{"1":"Montenegro","2":"Europe","3":"3.2000","4":"4.44625623","5":"0.4810","6":"1.67807191"},{"1":"Morocco","2":"Africa","3":"1.8400","4":"2.90303827","5":"2.1300","6":"0.87970577"},{"1":"Mozambique","2":"Africa","3":"0.2810","4":"0.36737107","5":"4.4100","6":"-1.83135796"},{"1":"Myanmar","2":"Asia","3":"0.4910","4":"2.15055968","5":"1.4500","6":"-1.02620507"},{"1":"Namibia","2":"Africa","3":"1.7500","4":"3.31469653","5":"3.9600","6":"0.80735492"},{"1":"Nauru","2":"Oceania","3":"4.7100","4":"4.22496637","5":"0.9500","6":"2.23572706"},{"1":"Nepal","2":"Asia","3":"0.3370","4":"1.95977015","5":"3.7300","6":"-1.56917950"},{"1":"Netherlands","2":"Europe","3":"9.4800","4":"5.87036472","5":"1.0400","6":"3.24488706"},{"1":"New Zealand","2":"Oceania","3":"7.3400","4":"5.35755200","5":"1.8700","6":"2.87578006"},{"1":"Nicaragua","2":"Americas","3":"0.8620","4":"2.47767733","5":"1.6400","6":"-0.21424023"},{"1":"Niger","2":"Africa","3":"0.1030","4":"0.36737107","5":"4.2700","6":"-3.27928376"},{"1":"Nigeria","2":"Africa","3":"0.6500","4":"2.33342373","5":"4.2400","6":"-0.62148838"},{"1":"North Korea","2":"Asia","3":"NA","4":"NA","5":"0.8280","6":"NA"},{"1":"North Macedonia","2":"Europe","3":"3.4900","4":"4.00898878","5":"0.6890","6":"1.80322704"},{"1":"Norway","2":"Europe","3":"8.3100","4":"6.17791779","5":"1.1200","6":"3.05484848"},{"1":"Oman","2":"Asia","3":"13.9000","4":"4.97269265","5":"4.6100","6":"3.79701298"},{"1":"Pakistan","2":"Asia","3":"1.0500","4":"2.25398927","5":"2.6700","6":"0.07038933"},{"1":"Palau","2":"Oceania","3":"13.2000","4":"4.27798475","5":"1.2800","6":"3.72246602"},{"1":"Palestine","2":"Asia","3":"0.6610","4":"2.92219785","5":"2.8900","6":"-0.59727782"},{"1":"Panama","2":"Americas","3":"2.6200","4":"4.88752527","5":"2.2000","6":"1.38956681"},{"1":"Papua New Guinea","2":"Asia","3":"0.9110","4":"2.06350294","5":"2.4800","6":"-0.13447704"},{"1":"Paraguay","2":"Americas","3":"1.0700","4":"3.66675659","5":"1.7500","6":"0.09761080"},{"1":"Peru","2":"Americas","3":"1.7400","4":"3.63226821","5":"1.9600","6":"0.79908731"},{"1":"Philippines","2":"Asia","3":"1.2700","4":"3.27052894","5":"1.8800","6":"0.34482850"},{"1":"Poland","2":"Europe","3":"9.0700","4":"4.93545975","5":"-0.0784","6":"3.18110255"},{"1":"Portugal","2":"Europe","3":"4.9700","4":"5.09169983","5":"0.7010","6":"2.31324585"},{"1":"Qatar","2":"Asia","3":"38.0000","4":"6.51254295","5":"2.1300","6":"5.24792751"},{"1":"Romania","2":"Europe","3":"3.8000","4":"4.84799691","5":"-0.4730","6":"1.92599942"},{"1":"Russia","2":"Europe","3":"11.7000","4":"4.81249822","5":"0.1770","6":"3.54843662"},{"1":"Rwanda","2":"Africa","3":"0.0913","4":"1.04264434","5":"3.1500","6":"-3.45324133"},{"1":"Samoa","2":"Asia","3":"1.3200","4":"2.65764001","5":"-0.7430","6":"0.40053793"},{"1":"Sao Tome and Principe","2":"Africa","3":"0.5870","4":"2.03210084","5":"3.0400","6":"-0.76856759"},{"1":"Saudi Arabia","2":"Asia","3":"18.4000","4":"5.62058641","5":"2.0700","6":"4.20163386"},{"1":"Senegal","2":"Africa","3":"0.7390","4":"1.72246602","5":"3.7400","6":"-0.43635373"},{"1":"Serbia","2":"Europe","3":"5.1700","4":"4.07038933","5":"-0.2790","6":"2.37016428"},{"1":"Seychelles","2":"Africa","3":"6.7500","4":"4.78135971","5":"1.7200","6":"2.75488750"},{"1":"Sierra Leone","2":"Africa","3":"0.1410","4":"0.65992456","5":"3.1400","6":"-2.82623293"},{"1":"Singapore","2":"Asia","3":"7.1000","4":"6.47411151","5":"0.4700","6":"2.82781902"},{"1":"Slovak Republic","2":"Europe","3":"6.6100","4":"4.94485845","5":"0.0920","6":"2.72465027"},{"1":"Slovenia","2":"Europe","3":"6.9500","4":"5.26303441","5":"0.8550","6":"2.79701298"},{"1":"Solomon Islands","2":"Asia","3":"0.2730","4":"1.44890095","5":"4.5800","6":"-1.87302714"},{"1":"Somalia","2":"Africa","3":"0.0466","4":"0.20163386","5":"4.1300","6":"-4.42352623"},{"1":"South Africa","2":"Africa","3":"8.1000","4":"3.78659636","5":"2.1300","6":"3.01792191"},{"1":"South Korea","2":"Asia","3":"12.9000","4":"5.43295941","5":"0.3800","6":"3.68929916"},{"1":"Spain","2":"Europe","3":"5.7500","4":"5.35049725","5":"0.7380","6":"2.52356196"},{"1":"Sri Lanka","2":"Asia","3":"1.1000","4":"3.67807190","5":"1.5500","6":"0.13750352"},{"1":"St. Lucia","2":"Americas","3":"2.3100","4":"3.88752527","5":"0.8690","6":"1.20789285"},{"1":"St. Vincent and the Grenadines","2":"Americas","3":"2.0300","4":"3.66675659","5":"1.1500","6":"1.02147973"},{"1":"Sudan","2":"Africa","3":"0.5040","4":"2.07382023","5":"3.1800","6":"-0.98850436"},{"1":"Suriname","2":"Americas","3":"3.1000","4":"4.13750352","5":"0.9860","6":"1.63226822"},{"1":"Sweden","2":"Europe","3":"4.1200","4":"5.76818433","5":"1.4900","6":"2.04264434"},{"1":"Switzerland","2":"Europe","3":"4.3300","4":"6.10433666","5":"0.7850","6":"2.11436702"},{"1":"Syria","2":"Asia","3":"1.6700","4":"2.22774108","5":"0.3450","6":"0.73984810"},{"1":"Taiwan","2":"Asia","3":"11.6000","4":"5.97030150","5":"NA","6":"3.53605290"},{"1":"Tajikistan","2":"Asia","3":"0.6030","4":"2.01792191","5":"3.0200","6":"-0.72977009"},{"1":"Tanzania","2":"Africa","3":"0.2220","4":"1.38956681","5":"5.1400","6":"-2.17136842"},{"1":"Thailand","2":"Asia","3":"4.1500","4":"4.13750352","5":"1.8300","6":"2.05311134"},{"1":"Timor-Leste","2":"Asia","3":"0.4120","4":"2.17951105","5":"3.1700","6":"-1.27928376"},{"1":"Togo","2":"Africa","3":"0.4340","4":"1.08406427","5":"3.7500","6":"-1.20423305"},{"1":"Tonga","2":"Asia","3":"1.3100","4":"2.79908731","5":"1.0000","6":"0.38956681"},{"1":"Trinidad and Tobago","2":"Americas","3":"31.3000","4":"4.70597790","5":"0.3770","6":"4.96809075"},{"1":"Tunisia","2":"Africa","3":"2.7300","4":"3.49825087","5":"1.5900","6":"1.44890095"},{"1":"Turkey","2":"Europe","3":"5.2000","4":"4.78135971","5":"2.1600","6":"2.37851162"},{"1":"Turkmenistan","2":"Asia","3":"13.7000","4":"3.86789646","5":"2.4600","6":"3.77610399"},{"1":"Tuvalu","2":"Oceania","3":"1.0100","4":"2.60407132","5":"2.6100","6":"0.01435529"},{"1":"Uganda","2":"Africa","3":"0.1350","4":"1.07724300","5":"6.1900","6":"-2.88896869"},{"1":"Ukraine","2":"Europe","3":"5.0900","4":"3.67807190","5":"-0.3130","6":"2.34766566"},{"1":"United Arab Emirates","2":"Asia","3":"21.4000","4":"6.10433666","5":"1.8200","6":"4.41953889"},{"1":"United Kingdom","2":"Europe","3":"5.6500","4":"5.55151602","5":"0.9120","6":"2.49825087"},{"1":"United States","2":"Americas","3":"16.6000","4":"6.00225245","5":"0.7670","6":"4.05311134"},{"1":"Uruguay","2":"Americas","3":"2.0100","4":"4.47897180","5":"0.4660","6":"1.00719550"},{"1":"Uzbekistan","2":"Asia","3":"2.8100","4":"2.89917563","5":"1.5900","6":"1.49057013"},{"1":"Vanuatu","2":"Asia","3":"0.5290","4":"1.70487196","5":"2.9200","6":"-0.91866037"},{"1":"Venezuela","2":"Americas","3":"4.8100","4":"2.61022759","5":"-1.7400","6":"2.26603689"},{"1":"Vietnam","2":"Asia","3":"2.1600","4":"2.86195536","5":"2.9800","6":"1.11103131"},{"1":"Yemen","2":"Asia","3":"0.3560","4":"0.99783433","5":"4.0800","6":"-1.49005085"},{"1":"Zambia","2":"Africa","3":"0.3020","4":"1.82781902","5":"4.1700","6":"-1.72737955"},{"1":"Zimbabwe","2":"Africa","3":"0.8500","4":"1.98185265","5":"1.3200","6":"-0.23446525"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>How does the distribution of the log-transformed CO2 values compare to the distribution of raw CO2 values? We can examine the density plot of both the original and log-transformed variables to answer this.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> co2)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density</span>(<span class="at">geom =</span> <span class="st">"line"</span>) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Carbon emissions (metric tons per person)"</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Probability density"</span>) <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Raw values of predictor"</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> l2co2)) <span class="sc">+</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density</span>(<span class="at">geom =</span> <span class="st">"line"</span>) <span class="sc">+</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Log2 (Carbon emissions)"</span>) <span class="sc">+</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Probability density"</span>) <span class="sc">+</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Log-2 transformed carbon emissions"</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Layout the plots</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">|</span> p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-log-dist" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-log-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-log-dist-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-log-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Density plot of the raw CO2 values (LEFT) and the base-2 log-transformed CO2 (RIGHT).
</figcaption>
</figure>
</div>
</div>
</div>
<p>Comparing the shapes of the two distributions, we see that:</p>
<ul>
<li>The original CO2 variable was right-skewed. The log-transformed variable is more symmetric. (It is perhaps even a bit left-skewed, although certainly closer to symmetric than the original.)</li>
<li>The scale is quite different between the two variables (one is, after all, log-transformed). This has greatly affected the center (mean) and the variation. Importantly, after log-transforming, the variation in the distribution is much smaller.</li>
</ul>
<div class="fyi">
<p>Logarithmic transformations change the shape, center, and variation of a distribution! For modelers, they take (1) make a right-skewed variable more symmetric and (2) reduce the variation in the distribution.</p>
</div>
<p><br></p>
</section>
<section id="relationship-between-log-transformed-co2-emissions-and-wealth" class="level2">
<h2 class="anchored" data-anchor-id="relationship-between-log-transformed-co2-emissions-and-wealth">Relationship between Log-Transformed CO2 Emissions and Wealth</h2>
<p>Let’s examine the relationship between the log-transformed CO2 emissions and wealth.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> l2co2)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Log2(Carbon emissions)"</span>) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">6.4</span>, <span class="at">y =</span> <span class="fl">5.25</span>, <span class="at">label =</span> <span class="st">"Quatar"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">4.6</span>, <span class="at">y =</span> <span class="fl">4.97</span>, <span class="at">label =</span> <span class="st">"Trinidad and Tobago"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatterplot-log" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplot-log-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-scatterplot-log-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplot-log-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Scatterplot between wealth and log base-2 transformed CO2 emissions. The loess smoother (blue, dashed line) is also displayed. The two countries with extreme carbon emissions are also identified on this plot.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Log-transforming the outcome has drastically affected the scale for the outcome. The relationship between wealth and the log-transformed CO2 emissions is much more linear (although not perfect). The two countries which had extremely high CO2 emissions when we examined raw CO2, no longer seems like outliers in the transformed data. The differences in variation of log-carbon emissions between lower wealth and higher wealth countries also seems less severe.</p>
<p>Has this helped us better meet the distributional assumptions for the regression model? To find out, we will fit the model using the log-transformed carbon emissions and examine the residual plots.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit model</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>lm.log2 <span class="ot">=</span> <span class="fu">lm</span>(l2co2 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth, <span class="at">data =</span> carbon)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtain residual plots</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">residual_plots</span>(lm.log2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-resid-log" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-resid-log-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-resid-log-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-resid-log-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Density plot of the standardized residuals (LEFT) and scatterplot of the standarized residuals versus the fitted values (RIGHT) from regressing log-transformed CO2 emisssions on wealth. The reference line of Y=0 is also displayed along with the 95% confidence envelope (grey shaded area). The loess smoother (solid, blue line) shows the empirical relationship betwen the residuals and fitted values.
</figcaption>
</figure>
</div>
</div>
</div>
<p>These plots suggest that after the transforming the outcome, there is a great deal of improvement in meeting the assumption of normality. The assumption of homoskedasticity also looks markedly improved. There still seems to be violations of the linearity assumption.</p>
<div class="fyi">
<p>For now, we will proceed so you understand how to interpret coefficients from models where the outcome has been log-transformed, but we will come back and fix this nonlinearity later.</p>
</div>
<p><br></p>
</section>
</section>
<section id="interpreting-the-regression-output" class="level1">
<h1>Interpreting the Regression Output</h1>
<p>We will now examine the model- and coefficient-level output from the model.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Model-level output</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(lm.log2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["r.squared"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["adj.r.squared"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sigma"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["logLik"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["BIC"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["deviance"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["df.residual"],"name":[11],"type":["int"],"align":["right"]},{"label":["nobs"],"name":[12],"type":["int"],"align":["right"]}],"data":[{"1":"0.8377489","2":"0.8368719","3":"0.8656852","4":"955.208","5":"5.599092e-75","6":"1","7":"-237.3644","8":"480.7287","9":"490.4221","10":"138.641","11":"185","12":"187"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The model-level summary information suggests that differences in wealth explains 83.8% of the variation in log-transformed carbon dioxide emissions. Since differences in <span class="math inline">\(\log_2(\mathrm{CO2})\)</span> imply that there are differences in the raw CO2 values, we would typically just say that “differences in wealth explain 83.8% of the variation in carbon dioxide emissions.” That is, we interpret the <span class="math inline">\(R^2\)</span> value as if we hadn’t used any log-transformation at all!</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(lm.log2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)      wealth 
  -3.168922    1.188289 </code></pre>
</div>
</div>
<p>From the coefficient-level output, the fitted equation is:</p>
<p><span class="math display">\[
\log_2\left(\widehat{\mathrm{CO2}_i}\right) = -3.17 + 1.19(\mathrm{Wealth}_i)
\]</span></p>
<p>We can interpret the coefficients as we always do, recognizing that these interpretation are based on the log-transformed outcome.</p>
<ul>
<li>The intercept value of <span class="math inline">\(-3.17\)</span> is the predicted log-2 transformed carbon dioxide emissions for countries with a wealth level of 0 (extrapolation).</li>
<li>The slope, <span class="math inline">\(\hat{\beta_1} = 1.19\)</span>, indicates that each one-unit difference in the wealth measure is associated with a 1.19-unit change in the log-2 carbon dioxide emission, on average.</li>
</ul>
<p><br></p>
<section id="better-interpretations-back-transforming-to-the-raw-metric" class="level2">
<h2 class="anchored" data-anchor-id="better-interpretations-back-transforming-to-the-raw-metric">Better Interpretations: Back-transforming to the Raw Metric</h2>
<p>While these interpretations are technically correct, it is more helpful to your readers (and more conventional) to interpret any regression results in the raw metric of the variable rather than log-transformed metric. This means we have to <em>back-transform the interpretations</em>. To think about how to do this, we first consider a more general expression of the fitted linear model:</p>
<p><span class="math display">\[
\log_2\left(\hat{Y}_i\right) = \hat\beta_0 + \hat\beta_1(X_{i})
\]</span></p>
<p>The left-hand side of the equation is in the log-transformed metric, which drives our interpretations. If we want to instead, interpret using the raw metric of <em>Y</em>, we need to back-transform from <span class="math inline">\(\log_2(Y)\)</span> to <em>Y</em>. To back-transform, we use the inverse function, which is to exponentiate using the base of the logarithm, in our case, base-2.</p>
<p><span class="math display">\[
2^{\log_2(Y_i)} = Y_i
\]</span></p>
<p>If we exponentiate the left-hand side of the equation, to maintain the equality, we also need to exponentiate the right-hand side of the equation.</p>
<p><span class="math display">\[
2^{\log_2(Y_i)} = 2^{\hat\beta_0 + \hat\beta_1(X_{i})}
\]</span></p>
<p>Then we use rules of exponents to simplify this.</p>
<p><span class="math display">\[
Y_i = 2^{\hat\beta_0} \times 2^{\hat\beta_1(X_{i})}
\]</span></p>
<p>For our example, we exponentiate both sides of the fitted equation to get the following back-transformed fitted equation:</p>
<p><span class="math display">\[
\widehat{\mathrm{CO2}_i} = 2^{-3.17} \times 2^{1.19(\mathrm{Wealth}_i)}
\]</span></p>
<p><br></p>
<section id="substituting-in-values-for-wealth-to-interpret-effects" class="level3">
<h3 class="anchored" data-anchor-id="substituting-in-values-for-wealth-to-interpret-effects">Substituting in Values for Wealth to Interpret Effects</h3>
<p>To interpret the back-transformed effects, we can substitute in the different values for wealth and solve. For example when wealth = 0:</p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= 2^{-3.17} \times 2^{1.19(0)}\\
&amp;= 0.111 \times 1 \\
&amp;= 0.111
\end{split}
\]</span></p>
<p>In R, we use the <code>^</code> operator to exponentiate. In our example, to compute the predicted caron dioxide emissions, we use the following:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute predicted CO2 when wealth=0</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span>(<span class="sc">-</span><span class="fl">3.17</span>) <span class="sc">*</span> <span class="dv">2</span><span class="sc">^</span>(<span class="fl">1.19</span> <span class="sc">*</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1111053</code></pre>
</div>
</div>
<p>The predicted CO2 emissions for a countries that have a wealth level of 0 is 0.111 metric tons per person, on average (extrapolation). This is how we interpret the intercept! How about countries that have a wealth level of 1 (a one-unit difference in wealth from countries that have a wealth level of 0)?</p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= 2^{-3.17} \times 2^{1.19(1)}\\
&amp;= 0.111 \times 2.28 \\
&amp;= 0.253
\end{split}
\]</span></p>
<p>The predicted CO2 emission for a countries that have a wealth level of 1 is 0.253 metric tons per person. This is 2.28 TIMES the emissions of countries that have a wealth level of 0. How about countries that have a wealth level of 2 (a one-unit difference in wealth from countries that have a wealth level of 1)?</p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= 2^{-3.17} \times 2^{1.19(2)}\\
&amp;= 0.111 \times 5.21 \\
&amp;= 0.578
\end{split}
\]</span></p>
<p>Using another rule of exponents we could re-write this last fitted equation as:</p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= 2^{-3.17} \times (2^{1.19})^2\\
&amp;= 0.111 \times 2.28^2 \\
&amp;= 0.111 \times 2.28 \times 2.28 \\
&amp;= 0.578
\end{split}
\]</span></p>
<p>This is 2.28 TIMES the emissions of countries that have a wealth level of 1. Each 1-unit increase in wealth is associated with an increase in CO2 emissions of a factor of 2.28 (i.e., 2.28 times higher CO2 emissions). The technical language we use to express “2.28 times” is a “2.28-fold difference”. So we would conventionally interpret this as:</p>
<blockquote class="blockquote">
<p>Each one-unit difference in wealth level is associated with a 2.28-fold difference in carbon emissions, on average.</p>
</blockquote>
<p>To summarize, when we back-transform from interpretations of log-<em>Y</em> to <em>Y</em> the rate-of-change is <strong>multiplicative rather than additive</strong>. And to determine the multiplicative rate-of-change, we take the base we chose to the power of the estimated slope, that is:</p>
<p><span class="math display">\[
\text{Rate-of-Change} = \text{base}^{\hat\beta_1}
\]</span></p>
<p>A computational shortcut to obtain the back-transformed interpretations is to exponentiate the output of the <code>coef()</code> function (which returns the coefficients from the fitted model).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtain back-transformed interpretations</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">^</span> <span class="fu">coef</span>(lm.log2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)      wealth 
  0.1111884   2.2788237 </code></pre>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="interpretation-of-the-rate-of-change-as-percent-change" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-of-the-rate-of-change-as-percent-change">Interpretation of the Rate-of-Change as Percent Change</h2>
<p>The results of log-transformed models are often interpreted as <em>percent change</em>. Rather than saying that each one-unit difference in wealth is associated with a 2.28-fold difference in carbon emissions, on average. We can also interpret this change as a percent change. To do this, we compute:</p>
<p><span class="math display">\[
\mathrm{Percent~Change} = (2^{\hat{\beta_1}} -1) \times 100
\]</span></p>
<p>In our example,</p>
<p><span class="math display">\[
\begin{split}
\mathrm{Percent~Change} &amp;= (2^{1.19} -1) \times 100 \\[1ex]
&amp;= 128.15
\end{split}
\]</span></p>
<p>Thus the interpretation is:</p>
<blockquote class="blockquote">
<p>Each one-unit difference in wealth is associated with a 128% change in carbon emissions, on average.</p>
</blockquote>
<div class="fyi">
<p>Be very careful when you are working with and interpreting using percents. The phrases “percent change” and “percentage point change” are two very different things. For example, increasing a graduation rate from 50% to 60% represents an increase of 10 percentage points, but it is a 20% increase or a 120% change!</p>
</div>
<p><br></p>
</section>
<section id="plotting-the-fitted-model" class="level2">
<h2 class="anchored" data-anchor-id="plotting-the-fitted-model">Plotting the Fitted Model</h2>
<p>As always, we should plot the fitted model to aid in interpretation. To do this we will use the back-transformed expression of the fitted equation:</p>
<p><span class="math display">\[
\widehat{\mathrm{CO2}_i} = 2^{-3.17} \times 2^{1.19(\mathrm{Wealth}_i)}
\]</span></p>
<p>This can be plotted by using the <code>geom_function()</code> layer of <code>ggplot()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> co2)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {<span class="dv">2</span><span class="sc">^</span>(<span class="sc">-</span><span class="fl">3.17</span>) <span class="sc">*</span> <span class="dv">2</span><span class="sc">^</span>(<span class="fl">1.19</span><span class="sc">*</span>x)} ) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Predicted CO2 emissions (in metric tones per person)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-model-02-fitted" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-model-02-fitted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-model-02-fitted-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-model-02-fitted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Plot of predicted CO2 emisssions as a function of wealth.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Based on this plot, we see a non-linear, positive effect of wealth on carbon emissions. Wealthier countries tend to have higher carbon emissions, on average, but the increase in carbon emissions as countries get wealthier is not constant; it is exponentially increasing.</p>
<p><br></p>
</section>
</section>
<section id="using-a-different-base" class="level1">
<h1>Using a Different Base</h1>
<p>The choice of base-2 for our logarithm was arbitrary. We could have chosen any base. For example, another common base to use is base-10. Now the fitted equation will be represented as:</p>
<p><span class="math display">\[
\hat{Y}_i = 10^{\hat\beta_0 + \hat\beta_1(X_i)}
\]</span></p>
<p>Here we take the base-10 logarithm of both sides of the equation:</p>
<p><span class="math display">\[
\begin{split}
\log_{10}(\hat{Y}_i) &amp;= \log_{10}\bigg(10^{\hat\beta_0 + \hat\beta_1(X_i)}\bigg) \\[2ex]
&amp;= \hat\beta_0 + \hat\beta_1(X_i)
\end{split}
\]</span></p>
<p>That is, we can regress the base-10 log-transformed values of <em>Y</em> onto <em>X</em>. To do this, we initially create a new column in the data that includes the base-10 logs of the carbon dioxide emission values. We can then use those as the outcome in our <code>lm()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create base-10 log-transformed CO2 values</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>carbon <span class="ot">=</span> carbon <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">l10co2 =</span> <span class="fu">log</span>(co2, <span class="at">base =</span> <span class="dv">10</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>carbon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["co2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["wealth"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["urbanization"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["l2co2"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["l10co2"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"Afghanistan","2":"Asia","3":"0.2540","4":"1.07038933","5":"3.3500","6":"-1.97709960","7":"-0.595166283"},{"1":"Albania","2":"Europe","3":"1.5900","4":"3.75488750","5":"1.3200","6":"0.66902677","7":"0.201397124"},{"1":"Algeria","2":"Africa","3":"3.6900","4":"3.53605290","5":"2.8100","6":"1.88362082","7":"0.567026366"},{"1":"Angola","2":"Africa","3":"1.1200","4":"2.71149491","5":"4.3100","6":"0.16349873","7":"0.049218023"},{"1":"Antigua and Barbuda","2":"Americas","3":"5.8800","4":"4.35755200","5":"0.4320","6":"2.55581616","7":"0.769377326"},{"1":"Argentina","2":"Americas","3":"4.4100","4":"4.49185310","5":"1.1500","6":"2.14077866","7":"0.644438589"},{"1":"Armenia","2":"Europe","3":"1.8900","4":"3.72246602","5":"0.3090","6":"0.91838623","7":"0.276461804"},{"1":"Australia","2":"Oceania","3":"16.9000","4":"5.60288441","5":"1.6600","6":"4.07895134","7":"1.227886705"},{"1":"Austria","2":"Europe","3":"7.7500","4":"5.81762326","5":"0.8360","6":"2.95419631","7":"0.889301703"},{"1":"Azerbaijan","2":"Europe","3":"3.7000","4":"3.78659636","5":"1.4700","6":"1.88752527","7":"0.568201724"},{"1":"Bahamas","2":"Americas","3":"4.7000","4":"5.12928302","5":"1.1300","6":"2.23266076","7":"0.672097858"},{"1":"Bahrain","2":"Asia","3":"19.8000","4":"5.48864354","5":"5.0300","6":"4.30742853","7":"1.296665190"},{"1":"Bangladesh","2":"Asia","3":"0.5310","4":"2.24792751","5":"3.1900","6":"-0.91321623","7":"-0.274905479"},{"1":"Barbados","2":"Americas","3":"4.4800","4":"3.93545975","5":"0.1050","6":"2.16349873","7":"0.651278014"},{"1":"Belarus","2":"Europe","3":"6.9300","4":"4.22496637","5":"0.3740","6":"2.79285535","7":"0.840733235"},{"1":"Belgium","2":"Europe","3":"8.6900","4":"5.72792045","5":"0.4960","6":"3.11935618","7":"0.939019776"},{"1":"Belize","2":"Americas","3":"1.5000","4":"2.77188558","5":"2.1900","6":"0.58496250","7":"0.176091259"},{"1":"Benin","2":"Africa","3":"0.6230","4":"1.67807190","5":"3.8900","6":"-0.68269593","7":"-0.205511953"},{"1":"Bhutan","2":"Asia","3":"1.6100","4":"3.40599236","5":"2.9700","6":"0.68706069","7":"0.206825876"},{"1":"Bolivia","2":"Americas","3":"1.9600","4":"3.11270013","5":"1.9200","6":"0.97085365","7":"0.292256071"},{"1":"Bosnia and Herzegovina","2":"Europe","3":"6.5300","4":"3.88752527","5":"-0.0592","6":"2.70708299","7":"0.814913181"},{"1":"Botswana","2":"Africa","3":"2.9600","4":"4.06177620","5":"3.2800","6":"1.56559718","7":"0.471291711"},{"1":"Brazil","2":"Americas","3":"2.1800","4":"3.86789646","5":"1.0800","6":"1.12432814","7":"0.338456494"},{"1":"Brunei","2":"Asia","3":"18.5000","4":"5.95884267","5":"1.4600","6":"4.20945337","7":"1.267171728"},{"1":"Bulgaria","2":"Europe","3":"6.3200","4":"4.47897180","5":"-0.2690","6":"2.65992456","7":"0.800717078"},{"1":"Burkina Faso","2":"Africa","3":"0.1980","4":"1.07038933","5":"4.9800","6":"-2.33642766","7":"-0.703334810"},{"1":"Burundi","2":"Africa","3":"0.0467","4":"-0.35845397","5":"5.7000","6":"-4.42043364","7":"-1.330683119"},{"1":"Cambodia","2":"Asia","3":"0.6400","4":"1.98913901","5":"3.2500","6":"-0.64385619","7":"-0.193820026"},{"1":"Cameroon","2":"Africa","3":"0.3230","4":"1.89917563","5":"3.6800","6":"-1.63039393","7":"-0.490797478"},{"1":"Canada","2":"Americas","3":"15.3000","4":"5.61765112","5":"1.4900","6":"3.93545975","7":"1.184691431"},{"1":"Cape Verde","2":"Africa","3":"1.1600","4":"2.77820858","5":"1.8800","6":"0.21412481","7":"0.064457989"},{"1":"Central African Republic","2":"Africa","3":"0.0651","4":"0.04264434","5":"2.4500","6":"-3.94119865","7":"-1.186419011"},{"1":"Chad","2":"Africa","3":"0.0656","4":"0.66902677","5":"3.9000","6":"-3.93016037","7":"-1.183096161"},{"1":"Chile","2":"Americas","3":"4.5900","4":"4.62058641","5":"1.4800","6":"2.19849415","7":"0.661812686"},{"1":"China","2":"Asia","3":"7.0600","4":"3.94485845","5":"2.5000","6":"2.81966818","7":"0.848804701"},{"1":"Colombia","2":"Americas","3":"1.9600","4":"3.87774425","5":"1.9400","6":"0.97085365","7":"0.292256071"},{"1":"Comoros","2":"Africa","3":"0.2630","4":"1.65076456","5":"2.8700","6":"-1.92686530","7":"-0.580044252"},{"1":"Congo, Dem. Rep.","2":"Africa","3":"0.0243","4":"0.11103131","5":"4.5400","6":"-5.36289988","7":"-1.614393726"},{"1":"Congo, Rep.","2":"Africa","3":"0.6170","4":"1.77820858","5":"3.2700","6":"-0.69665761","7":"-0.209714836"},{"1":"Costa Rica","2":"Americas","3":"1.6100","4":"4.33628339","5":"1.9800","6":"0.68706069","7":"0.206825876"},{"1":"Cote d'Ivoire","2":"Africa","3":"0.3350","4":"2.31034012","5":"3.4500","6":"-1.57776700","7":"-0.474955193"},{"1":"Croatia","2":"Europe","3":"4.4800","4":"4.83289001","5":"-0.4010","6":"2.16349873","7":"0.651278014"},{"1":"Cuba","2":"Americas","3":"2.5300","4":"NA","5":"0.0681","6":"1.33913738","7":"0.403120521"},{"1":"Cyprus","2":"Europe","3":"6.3000","4":"5.28909670","5":"0.7700","6":"2.65535183","7":"0.799340549"},{"1":"Czech Republic","2":"Europe","3":"9.9400","4":"5.28169825","5":"0.4930","6":"3.31324585","7":"0.997386384"},{"1":"Denmark","2":"Europe","3":"6.0600","4":"5.88508623","5":"0.6290","6":"2.59931779","7":"0.782472624"},{"1":"Djibouti","2":"Africa","3":"0.6720","4":"2.34766566","5":"1.7200","6":"-0.57346686","7":"-0.172630727"},{"1":"Dominican Republic","2":"Americas","3":"2.3400","4":"4.12101540","5":"2.0700","6":"1.22650853","7":"0.369215857"},{"1":"Ecuador","2":"Americas","3":"2.4600","4":"3.52356196","5":"2.0000","6":"1.29865832","7":"0.390935107"},{"1":"Egypt","2":"Africa","3":"2.4300","4":"3.49825087","5":"2.0300","6":"1.28095631","7":"0.385606274"},{"1":"El Salvador","2":"Americas","3":"1.1100","4":"3.05658353","5":"1.5500","6":"0.15055968","7":"0.045322979"},{"1":"Equatorial Guinea","2":"Africa","3":"4.3500","4":"4.00000000","5":"4.3400","6":"2.12101540","7":"0.638489257"},{"1":"Eritrea","2":"Africa","3":"0.2150","4":"0.94335876","5":"NA","6":"-2.21759144","7":"-0.667561540"},{"1":"Estonia","2":"Europe","3":"14.8000","4":"5.15785217","5":"0.5850","6":"3.88752527","7":"1.170261715"},{"1":"Eswatini","2":"Africa","3":"1.0600","4":"3.02325535","5":"1.7500","6":"0.08406426","7":"0.025305865"},{"1":"Ethiopia","2":"Africa","3":"0.1370","4":"1.09761080","5":"4.8300","6":"-2.86775220","7":"-0.863279433"},{"1":"Fiji","2":"Asia","3":"2.4100","4":"3.73335434","5":"1.5900","6":"1.26903315","7":"0.382017043"},{"1":"Finland","2":"Europe","3":"8.5200","4":"5.63807384","5":"0.1990","6":"3.09085343","7":"0.930439595"},{"1":"France","2":"Europe","3":"5.2000","4":"5.57591736","5":"0.6030","6":"2.37851162","7":"0.716003344"},{"1":"Gabon","2":"Africa","3":"2.5300","4":"3.81762326","5":"3.0500","6":"1.33913738","7":"0.403120521"},{"1":"Gambia","2":"Africa","3":"0.2680","4":"1.11769504","5":"4.0500","6":"-1.89969509","7":"-0.571865206"},{"1":"Georgia","2":"Europe","3":"2.6400","4":"3.80735492","5":"0.6470","6":"1.40053793","7":"0.421603927"},{"1":"Germany","2":"Europe","3":"9.1400","4":"5.83289001","5":"0.3670","6":"3.19219417","7":"0.960946196"},{"1":"Ghana","2":"Africa","3":"0.6150","4":"2.37851162","5":"3.3600","6":"-0.70134168","7":"-0.211124884"},{"1":"Greece","2":"Europe","3":"7.0300","4":"4.87282876","5":"0.2210","6":"2.81352469","7":"0.846955325"},{"1":"Grenada","2":"Americas","3":"2.4300","4":"3.96347412","5":"0.8170","6":"1.28095631","7":"0.385606274"},{"1":"Guatemala","2":"Americas","3":"1.0700","4":"3.08576455","5":"2.3400","6":"0.09761080","7":"0.029383778"},{"1":"Guinea","2":"Africa","3":"0.2560","4":"1.30451104","5":"3.8000","6":"-1.96578428","7":"-0.591760035"},{"1":"Guinea-Bissau","2":"Africa","3":"0.1810","4":"0.91073266","5":"3.4600","6":"-2.46593840","7":"-0.742321425"},{"1":"Guyana","2":"Americas","3":"3.1200","4":"3.66675659","5":"0.7440","6":"1.64154603","7":"0.494154594"},{"1":"Haiti","2":"Americas","3":"0.2700","4":"1.70043972","5":"2.9700","6":"-1.88896869","7":"-0.568636236"},{"1":"Honduras","2":"Americas","3":"1.0400","4":"2.42223300","5":"2.7900","6":"0.05658353","7":"0.017033339"},{"1":"Hong Kong, China","2":"Asia","3":"5.8600","4":"6.03342300","5":"0.7990","6":"2.55090066","7":"0.767897616"},{"1":"Hungary","2":"Europe","3":"5.1400","4":"4.94016675","5":"0.2790","6":"2.36176836","7":"0.710963119"},{"1":"Iceland","2":"Europe","3":"10.8000","4":"5.76288029","5":"2.7200","6":"3.43295941","7":"1.033423755"},{"1":"India","2":"Asia","3":"1.9600","4":"2.72246602","5":"2.3100","6":"0.97085365","7":"0.292256071"},{"1":"Indonesia","2":"Asia","3":"2.3000","4":"3.49825087","5":"2.3500","6":"1.20163386","7":"0.361727836"},{"1":"Iran","2":"Asia","3":"8.8100","4":"3.79701298","5":"2.0600","6":"3.13914202","7":"0.944975908"},{"1":"Iraq","2":"Asia","3":"5.3200","4":"3.41953889","5":"2.6000","6":"2.41142625","7":"0.725911632"},{"1":"Ireland","2":"Europe","3":"8.0900","4":"6.03342300","5":"1.5900","6":"3.01613970","7":"0.907948522"},{"1":"Israel","2":"Asia","3":"7.6700","4":"5.31831684","5":"2.0200","6":"2.93922658","7":"0.884795364"},{"1":"Italy","2":"Europe","3":"5.5800","4":"5.44294350","5":"0.2280","6":"2.48026512","7":"0.746634199"},{"1":"Jamaica","2":"Americas","3":"2.7900","4":"3.26153081","5":"1.0100","6":"1.48026512","7":"0.445604203"},{"1":"Japan","2":"Asia","3":"9.1400","4":"5.45285896","5":"-0.1140","6":"3.19219417","7":"0.960946196"},{"1":"Jordan","2":"Asia","3":"2.4200","4":"3.35049725","5":"2.0700","6":"1.27500705","7":"0.383815366"},{"1":"Kazakhstan","2":"Asia","3":"17.6000","4":"4.51727569","5":"1.4700","6":"4.13750352","7":"1.245512668"},{"1":"Kenya","2":"Africa","3":"0.3600","4":"2.13093087","5":"4.0500","6":"-1.47393119","7":"-0.443697499"},{"1":"Kiribati","2":"Asia","3":"0.6010","4":"2.10097765","5":"2.9500","6":"-0.73456310","7":"-0.221125528"},{"1":"Kuwait","2":"Asia","3":"23.7000","4":"5.87036472","5":"1.9800","6":"4.56681515","7":"1.374748346"},{"1":"Kyrgyzstan","2":"Asia","3":"1.6000","4":"2.35049725","5":"2.5900","6":"0.67807191","7":"0.204119983"},{"1":"Lao","2":"Asia","3":"2.7400","4":"2.88947354","5":"3.3800","6":"1.45417589","7":"0.437750563"},{"1":"Latvia","2":"Europe","3":"3.7300","4":"4.92599942","5":"-0.6810","6":"1.89917563","7":"0.571708832"},{"1":"Lebanon","2":"Asia","3":"3.5300","4":"4.00000000","5":"0.7710","6":"1.81966818","7":"0.547774705"},{"1":"Lesotho","2":"Africa","3":"1.2600","4":"1.60880924","5":"2.3100","6":"0.33342373","7":"0.100370545"},{"1":"Liberia","2":"Africa","3":"0.3240","4":"0.46466827","5":"3.3400","6":"-1.62593428","7":"-0.489454990"},{"1":"Libya","2":"Africa","3":"8.0900","4":"3.97269265","5":"1.8300","6":"3.01613970","7":"0.907948522"},{"1":"Lithuania","2":"Europe","3":"4.8400","4":"5.14159628","5":"-0.7130","6":"2.27500705","7":"0.684845362"},{"1":"Luxembourg","2":"Europe","3":"15.9000","4":"6.37155886","5":"2.2100","6":"3.99095486","7":"1.201397124"},{"1":"Madagascar","2":"Africa","3":"0.1630","4":"0.66902677","5":"4.4800","6":"-2.61705613","7":"-0.787812396"},{"1":"Malawi","2":"Africa","3":"0.0762","4":"0.56559718","5":"3.9700","6":"-3.71406519","7":"-1.118045029"},{"1":"Malaysia","2":"Asia","3":"8.0800","4":"4.77610399","5":"2.1300","6":"3.01435529","7":"0.907411361"},{"1":"Maldives","2":"Asia","3":"2.9600","4":"4.12928302","5":"4.9000","6":"1.56559718","7":"0.471291711"},{"1":"Mali","2":"Africa","3":"0.1870","4":"1.18269230","5":"4.8800","6":"-2.41888982","7":"-0.728158393"},{"1":"Malta","2":"Europe","3":"3.6100","4":"5.35755200","5":"3.5600","6":"1.85199884","7":"0.557507202"},{"1":"Marshall Islands","2":"Oceania","3":"2.5800","4":"2.31903982","5":"1.1300","6":"1.36737107","7":"0.411619706"},{"1":"Mauritania","2":"Africa","3":"0.6050","4":"2.40326772","5":"4.3700","6":"-0.72499295","7":"-0.218244625"},{"1":"Mauritius","2":"Africa","3":"3.8300","4":"4.67242534","5":"-0.0631","6":"1.93734439","7":"0.583198774"},{"1":"Mexico","2":"Americas","3":"3.7900","4":"4.29278175","5":"1.4900","6":"1.92219785","7":"0.578639210"},{"1":"Micronesia","2":"Asia","3":"1.3400","4":"1.85996955","5":"1.4700","6":"0.42223300","7":"0.127104798"},{"1":"Moldova","2":"Europe","3":"1.2700","4":"3.73335434","5":"-1.5500","6":"0.34482850","7":"0.103803721"},{"1":"Mongolia","2":"Asia","3":"8.8800","4":"3.48542683","5":"1.9200","6":"3.15055968","7":"0.948412966"},{"1":"Montenegro","2":"Europe","3":"3.2000","4":"4.44625623","5":"0.4810","6":"1.67807191","7":"0.505149978"},{"1":"Morocco","2":"Africa","3":"1.8400","4":"2.90303827","5":"2.1300","6":"0.87970577","7":"0.264817823"},{"1":"Mozambique","2":"Africa","3":"0.2810","4":"0.36737107","5":"4.4100","6":"-1.83135796","7":"-0.551293680"},{"1":"Myanmar","2":"Asia","3":"0.4910","4":"2.15055968","5":"1.4500","6":"-1.02620507","7":"-0.308918508"},{"1":"Namibia","2":"Africa","3":"1.7500","4":"3.31469653","5":"3.9600","6":"0.80735492","7":"0.243038049"},{"1":"Nauru","2":"Oceania","3":"4.7100","4":"4.22496637","5":"0.9500","6":"2.23572706","7":"0.673020907"},{"1":"Nepal","2":"Asia","3":"0.3370","4":"1.95977015","5":"3.7300","6":"-1.56917950","7":"-0.472370099"},{"1":"Netherlands","2":"Europe","3":"9.4800","4":"5.87036472","5":"1.0400","6":"3.24488706","7":"0.976808337"},{"1":"New Zealand","2":"Oceania","3":"7.3400","4":"5.35755200","5":"1.8700","6":"2.87578006","7":"0.865696060"},{"1":"Nicaragua","2":"Americas","3":"0.8620","4":"2.47767733","5":"1.6400","6":"-0.21424023","7":"-0.064492734"},{"1":"Niger","2":"Africa","3":"0.1030","4":"0.36737107","5":"4.2700","6":"-3.27928376","7":"-0.987162775"},{"1":"Nigeria","2":"Africa","3":"0.6500","4":"2.33342373","5":"4.2400","6":"-0.62148838","7":"-0.187086643"},{"1":"North Korea","2":"Asia","3":"NA","4":"NA","5":"0.8280","6":"NA","7":"NA"},{"1":"North Macedonia","2":"Europe","3":"3.4900","4":"4.00898878","5":"0.6890","6":"1.80322704","7":"0.542825427"},{"1":"Norway","2":"Europe","3":"8.3100","4":"6.17791779","5":"1.1200","6":"3.05484848","7":"0.919601024"},{"1":"Oman","2":"Asia","3":"13.9000","4":"4.97269265","5":"4.6100","6":"3.79701298","7":"1.143014800"},{"1":"Pakistan","2":"Asia","3":"1.0500","4":"2.25398927","5":"2.6700","6":"0.07038933","7":"0.021189299"},{"1":"Palau","2":"Oceania","3":"13.2000","4":"4.27798475","5":"1.2800","6":"3.72246602","7":"1.120573931"},{"1":"Palestine","2":"Asia","3":"0.6610","4":"2.92219785","5":"2.8900","6":"-0.59727782","7":"-0.179798541"},{"1":"Panama","2":"Americas","3":"2.6200","4":"4.88752527","5":"2.2000","6":"1.38956681","7":"0.418301291"},{"1":"Papua New Guinea","2":"Asia","3":"0.9110","4":"2.06350294","5":"2.4800","6":"-0.13447704","7":"-0.040481623"},{"1":"Paraguay","2":"Americas","3":"1.0700","4":"3.66675659","5":"1.7500","6":"0.09761080","7":"0.029383778"},{"1":"Peru","2":"Americas","3":"1.7400","4":"3.63226821","5":"1.9600","6":"0.79908731","7":"0.240549248"},{"1":"Philippines","2":"Asia","3":"1.2700","4":"3.27052894","5":"1.8800","6":"0.34482850","7":"0.103803721"},{"1":"Poland","2":"Europe","3":"9.0700","4":"4.93545975","5":"-0.0784","6":"3.18110255","7":"0.957607287"},{"1":"Portugal","2":"Europe","3":"4.9700","4":"5.09169983","5":"0.7010","6":"2.31324585","7":"0.696356389"},{"1":"Qatar","2":"Asia","3":"38.0000","4":"6.51254295","5":"2.1300","6":"5.24792751","7":"1.579783597"},{"1":"Romania","2":"Europe","3":"3.8000","4":"4.84799691","5":"-0.4730","6":"1.92599942","7":"0.579783597"},{"1":"Russia","2":"Europe","3":"11.7000","4":"4.81249822","5":"0.1770","6":"3.54843662","7":"1.068185862"},{"1":"Rwanda","2":"Africa","3":"0.0913","4":"1.04264434","5":"3.1500","6":"-3.45324133","7":"-1.039529222"},{"1":"Samoa","2":"Asia","3":"1.3200","4":"2.65764001","5":"-0.7430","6":"0.40053793","7":"0.120573931"},{"1":"Sao Tome and Principe","2":"Africa","3":"0.5870","4":"2.03210084","5":"3.0400","6":"-0.76856759","7":"-0.231361899"},{"1":"Saudi Arabia","2":"Asia","3":"18.4000","4":"5.62058641","5":"2.0700","6":"4.20163386","7":"1.264817823"},{"1":"Senegal","2":"Africa","3":"0.7390","4":"1.72246602","5":"3.7400","6":"-0.43635373","7":"-0.131355562"},{"1":"Serbia","2":"Europe","3":"5.1700","4":"4.07038933","5":"-0.2790","6":"2.37016428","7":"0.713490543"},{"1":"Seychelles","2":"Africa","3":"6.7500","4":"4.78135971","5":"1.7200","6":"2.75488750","7":"0.829303773"},{"1":"Sierra Leone","2":"Africa","3":"0.1410","4":"0.65992456","5":"3.1400","6":"-2.82623293","7":"-0.850780887"},{"1":"Singapore","2":"Asia","3":"7.1000","4":"6.47411151","5":"0.4700","6":"2.82781902","7":"0.851258349"},{"1":"Slovak Republic","2":"Europe","3":"6.6100","4":"4.94485845","5":"0.0920","6":"2.72465027","7":"0.820201459"},{"1":"Slovenia","2":"Europe","3":"6.9500","4":"5.26303441","5":"0.8550","6":"2.79701298","7":"0.841984805"},{"1":"Solomon Islands","2":"Asia","3":"0.2730","4":"1.44890095","5":"4.5800","6":"-1.87302714","7":"-0.563837353"},{"1":"Somalia","2":"Africa","3":"0.0466","4":"0.20163386","5":"4.1300","6":"-4.42352623","7":"-1.331614083"},{"1":"South Africa","2":"Africa","3":"8.1000","4":"3.78659636","5":"2.1300","6":"3.01792191","7":"0.908485019"},{"1":"South Korea","2":"Asia","3":"12.9000","4":"5.43295941","5":"0.3800","6":"3.68929916","7":"1.110589710"},{"1":"Spain","2":"Europe","3":"5.7500","4":"5.35049725","5":"0.7380","6":"2.52356196","7":"0.759667845"},{"1":"Sri Lanka","2":"Asia","3":"1.1000","4":"3.67807190","5":"1.5500","6":"0.13750352","7":"0.041392685"},{"1":"St. Lucia","2":"Americas","3":"2.3100","4":"3.88752527","5":"0.8690","6":"1.20789285","7":"0.363611980"},{"1":"St. Vincent and the Grenadines","2":"Americas","3":"2.0300","4":"3.66675659","5":"1.1500","6":"1.02147973","7":"0.307496038"},{"1":"Sudan","2":"Africa","3":"0.5040","4":"2.07382023","5":"3.1800","6":"-0.98850436","7":"-0.297569464"},{"1":"Suriname","2":"Americas","3":"3.1000","4":"4.13750352","5":"0.9860","6":"1.63226822","7":"0.491361694"},{"1":"Sweden","2":"Europe","3":"4.1200","4":"5.76818433","5":"1.4900","6":"2.04264434","7":"0.614897216"},{"1":"Switzerland","2":"Europe","3":"4.3300","4":"6.10433666","5":"0.7850","6":"2.11436702","7":"0.636487896"},{"1":"Syria","2":"Asia","3":"1.6700","4":"2.22774108","5":"0.3450","6":"0.73984810","7":"0.222716471"},{"1":"Taiwan","2":"Asia","3":"11.6000","4":"5.97030150","5":"NA","6":"3.53605290","7":"1.064457989"},{"1":"Tajikistan","2":"Asia","3":"0.6030","4":"2.01792191","5":"3.0200","6":"-0.72977009","7":"-0.219682688"},{"1":"Tanzania","2":"Africa","3":"0.2220","4":"1.38956681","5":"5.1400","6":"-2.17136842","7":"-0.653647026"},{"1":"Thailand","2":"Asia","3":"4.1500","4":"4.13750352","5":"1.8300","6":"2.05311134","7":"0.618048097"},{"1":"Timor-Leste","2":"Asia","3":"0.4120","4":"2.17951105","5":"3.1700","6":"-1.27928376","7":"-0.385102784"},{"1":"Togo","2":"Africa","3":"0.4340","4":"1.08406427","5":"3.7500","6":"-1.20423305","7":"-0.362510270"},{"1":"Tonga","2":"Asia","3":"1.3100","4":"2.79908731","5":"1.0000","6":"0.38956681","7":"0.117271296"},{"1":"Trinidad and Tobago","2":"Americas","3":"31.3000","4":"4.70597790","5":"0.3770","6":"4.96809075","7":"1.495544338"},{"1":"Tunisia","2":"Africa","3":"2.7300","4":"3.49825087","5":"1.5900","6":"1.44890095","7":"0.436162647"},{"1":"Turkey","2":"Europe","3":"5.2000","4":"4.78135971","5":"2.1600","6":"2.37851162","7":"0.716003344"},{"1":"Turkmenistan","2":"Asia","3":"13.7000","4":"3.86789646","5":"2.4600","6":"3.77610399","7":"1.136720567"},{"1":"Tuvalu","2":"Oceania","3":"1.0100","4":"2.60407132","5":"2.6100","6":"0.01435529","7":"0.004321374"},{"1":"Uganda","2":"Africa","3":"0.1350","4":"1.07724300","5":"6.1900","6":"-2.88896869","7":"-0.869666232"},{"1":"Ukraine","2":"Europe","3":"5.0900","4":"3.67807190","5":"-0.3130","6":"2.34766566","7":"0.706717782"},{"1":"United Arab Emirates","2":"Asia","3":"21.4000","4":"6.10433666","5":"1.8200","6":"4.41953889","7":"1.330413773"},{"1":"United Kingdom","2":"Europe","3":"5.6500","4":"5.55151602","5":"0.9120","6":"2.49825087","7":"0.752048448"},{"1":"United States","2":"Americas","3":"16.6000","4":"6.00225245","5":"0.7670","6":"4.05311134","7":"1.220108088"},{"1":"Uruguay","2":"Americas","3":"2.0100","4":"4.47897180","5":"0.4660","6":"1.00719550","7":"0.303196057"},{"1":"Uzbekistan","2":"Asia","3":"2.8100","4":"2.89917563","5":"1.5900","6":"1.49057013","7":"0.448706320"},{"1":"Vanuatu","2":"Asia","3":"0.5290","4":"1.70487196","5":"2.9200","6":"-0.91866037","7":"-0.276544328"},{"1":"Venezuela","2":"Americas","3":"4.8100","4":"2.61022759","5":"-1.7400","6":"2.26603689","7":"0.682145076"},{"1":"Vietnam","2":"Asia","3":"2.1600","4":"2.86195536","5":"2.9800","6":"1.11103131","7":"0.334453751"},{"1":"Yemen","2":"Asia","3":"0.3560","4":"0.99783433","5":"4.0800","6":"-1.49005085","7":"-0.448550002"},{"1":"Zambia","2":"Africa","3":"0.3020","4":"1.82781902","5":"4.1700","6":"-1.72737955","7":"-0.519993057"},{"1":"Zimbabwe","2":"Africa","3":"0.8500","4":"1.98185265","5":"1.3200","6":"-0.23446525","7":"-0.070581074"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit model</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>lm.log10 <span class="ot">=</span> <span class="fu">lm</span>(l10co2 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth, <span class="at">data =</span> carbon)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Model-level output</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(lm.log10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["r.squared"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["adj.r.squared"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sigma"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["logLik"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["BIC"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["deviance"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["df.residual"],"name":[11],"type":["int"],"align":["right"]},{"label":["nobs"],"name":[12],"type":["int"],"align":["right"]}],"data":[{"1":"0.8377489","2":"0.8368719","3":"0.2605972","4":"955.208","5":"5.599092e-75","6":"1","7":"-12.86238","8":"31.72477","9":"41.4181","10":"12.56352","11":"185","12":"187"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The model-level output is identical to the model-level output from the base-2 model! That is differences in wealth explains 83.8% of the variation in CO2 emissions.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(lm.log10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)      wealth 
 -0.9539406   0.3577107 </code></pre>
</div>
</div>
<p>Because we changed the base, the coefficient estimates for the fitted equation have changed. Writing the new fitted equation:</p>
<p><span class="math display">\[
\log_{10}(\widehat{\mathrm{CO2}_i}) = -0.954 + 0.358(\mathrm{Wealth}_i)
\]</span></p>
<p>Or, back-transforming the left-hand side:</p>
<p><span class="math display">\[
\widehat{\mathrm{CO2}_i} = 10^{-0.954} \times 10^{0.358(\mathrm{Wealth}_i)}
\]</span></p>
<p>To interpret these, we exponentiate the coefficients using base-10.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">^</span> <span class="fu">coef</span>(lm.log10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)      wealth 
  0.1111884   2.2788237 </code></pre>
</div>
</div>
<p>We get the exact same back-transformed coefficients as we did when we back-transformed the base-2 coefficients! Based on these, the interpretations are:</p>
<ul>
<li><strong>Intercept:</strong> The predicted CO2 emissions for a countries that have a wealth level of 0 is 0.111 metric tons per person, on average (extrapolation).</li>
<li><strong>Rate-of-Change:</strong> Each one-unit difference in wealth level is associated with a 2.28-fold difference in carbon emissions, on average. OR using the language of percent change, each one-unit difference in wealth level is associated with a 128% increase in carbon emissions, on average.</li>
</ul>
<p>Lastly, we can plot the fitted curve.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> co2)) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {<span class="dv">10</span><span class="sc">^</span>(<span class="sc">-</span><span class="fl">0.954</span>) <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span>(<span class="fl">0.358</span><span class="sc">*</span>x)} ) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Predicted CO2 emissions (in metric tones per person)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-model-10-fitted" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-model-10-fitted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-model-10-fitted-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-model-10-fitted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Plot of predicted CO2 emisssions as a function of wealth.
</figcaption>
</figure>
</div>
</div>
</div>
<p>This is the exact same fitted curve we obtained from the base-2 model.</p>
<div class="fyi">
<p>It isn’t shown here, but because the fitted curve is exactly the same (i.e., the <em>Y</em>-hat values are the same), the residuals are exactly the same for the base-10 and base-2 models. This implies the residual plots will be identical as well. Changing the base does NOT change the fit of the model!</p>
<p>Changing the base does not change any of the information we get from the model. The model-level output is the same regardless of base. While the fitted equation changes depending on the base chosen, the back-transformed interpretations of the coefficients and the plot of the fitted curve are the same. Moreover the residuals and therefore your evaluations of the assumptions will be the same regardless of base!</p>
</div>
</section>
<section id="one-more-base-base-e" class="level1">
<h1>One More Base: Base-e</h1>
<p>One base that is commonly used for log-transformations in the social sciences is base-<em>e</em>. <em>e</em> is a mathematical constant (Euler’s number) that is approximately equal to 2.71828.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> We can obtain this by using the <code>exp()</code> function in R. This function takes <em>e</em> to some exponent that is given as the argument. So to obtain the approximation of <em>e</em> we use</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.718282</code></pre>
</div>
</div>
<p>The base-<em>e</em> logarithm for a number, referred to as the <em>natural logarithm</em>, can be obtained using the <code>log()</code> function with the argument <code>base=exp(1)</code>. However, this base is so commonly used that it is the default value for the <code>base=</code> argument. So, if we use the <code>log()</code> function without defining the <code>base=</code> argument, it will automatically use base-<em>e</em>. For example, the natural logarithm of 10 can be computed as</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.302585</code></pre>
</div>
</div>
<p>If we took <span class="math inline">\(e^{2.303}\)</span> we would obtain 10. The natural logarithm even has its own mathematical notation; <span class="math inline">\(\ln\)</span>. For example, we would mathematically express the natural logarithm of 10 as</p>
<p><span class="math display">\[
\ln (10) = 2.303
\]</span></p>
<p><br></p>
<section id="fitting-the-model-using-base-e-logarithms" class="level2">
<h2 class="anchored" data-anchor-id="fitting-the-model-using-base-e-logarithms">Fitting the Model Using Base-e Logarithms</h2>
<p>The fitted equation will be represented as:</p>
<p><span class="math display">\[
\hat{Y}_i = e^{\hat\beta_0 + \hat\beta_1(X_i)}
\]</span></p>
<p>Here we take the natural logarithm of both sides of the equation:</p>
<p><span class="math display">\[
\begin{split}
\ln(\hat{Y}_i) &amp;= \ln\bigg(e^{\hat\beta_0 + \hat\beta_1(X_i)}\bigg) \\[2ex]
&amp;= \hat\beta_0 + \hat\beta_1(X_i)
\end{split}
\]</span></p>
<p>That is, we can regress the natural log-transformed values of <em>Y</em> onto <em>X</em>. To do this, we initially create a new column in the data that includes the natural logs of the carbon dioxide emission values. We can then use those as the outcome in our <code>lm()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create natural log-transformed CO2 values</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>carbon <span class="ot">=</span> carbon <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">lnco2 =</span> <span class="fu">log</span>(co2)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>carbon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["co2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["wealth"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["urbanization"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["l2co2"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["l10co2"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["lnco2"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"Afghanistan","2":"Asia","3":"0.2540","4":"1.07038933","5":"3.3500","6":"-1.97709960","7":"-0.595166283","8":"-1.370421012"},{"1":"Albania","2":"Europe","3":"1.5900","4":"3.75488750","5":"1.3200","6":"0.66902677","7":"0.201397124","8":"0.463734016"},{"1":"Algeria","2":"Africa","3":"3.6900","4":"3.53605290","5":"2.8100","6":"1.88362082","7":"0.567026366","8":"1.305626458"},{"1":"Angola","2":"Africa","3":"1.1200","4":"2.71149491","5":"4.3100","6":"0.16349873","7":"0.049218023","8":"0.113328685"},{"1":"Antigua and Barbuda","2":"Americas","3":"5.8800","4":"4.35755200","5":"0.4320","6":"2.55581616","7":"0.769377326","8":"1.771556762"},{"1":"Argentina","2":"Americas","3":"4.4100","4":"4.49185310","5":"1.1500","6":"2.14077866","7":"0.644438589","8":"1.483874689"},{"1":"Armenia","2":"Europe","3":"1.8900","4":"3.72246602","5":"0.3090","6":"0.91838623","7":"0.276461804","8":"0.636576829"},{"1":"Australia","2":"Oceania","3":"16.9000","4":"5.60288441","5":"1.6600","6":"4.07895134","7":"1.227886705","8":"2.827313622"},{"1":"Austria","2":"Europe","3":"7.7500","4":"5.81762326","5":"0.8360","6":"2.95419631","7":"0.889301703","8":"2.047692843"},{"1":"Azerbaijan","2":"Europe","3":"3.7000","4":"3.78659636","5":"1.4700","6":"1.88752527","7":"0.568201724","8":"1.308332820"},{"1":"Bahamas","2":"Americas","3":"4.7000","4":"5.12928302","5":"1.1300","6":"2.23266076","7":"0.672097858","8":"1.547562509"},{"1":"Bahrain","2":"Asia","3":"19.8000","4":"5.48864354","5":"5.0300","6":"4.30742853","7":"1.296665190","8":"2.985681938"},{"1":"Bangladesh","2":"Asia","3":"0.5310","4":"2.24792751","5":"3.1900","6":"-0.91321623","7":"-0.274905479","8":"-0.632993258"},{"1":"Barbados","2":"Americas","3":"4.4800","4":"3.93545975","5":"0.1050","6":"2.16349873","7":"0.651278014","8":"1.499623046"},{"1":"Belarus","2":"Europe","3":"6.9300","4":"4.22496637","5":"0.3740","6":"2.79285535","7":"0.840733235","8":"1.935859813"},{"1":"Belgium","2":"Europe","3":"8.6900","4":"5.72792045","5":"0.4960","6":"3.11935618","7":"0.939019776","8":"2.162172939"},{"1":"Belize","2":"Americas","3":"1.5000","4":"2.77188558","5":"2.1900","6":"0.58496250","7":"0.176091259","8":"0.405465108"},{"1":"Benin","2":"Africa","3":"0.6230","4":"1.67807190","5":"3.8900","6":"-0.68269593","7":"-0.205511953","8":"-0.473208760"},{"1":"Bhutan","2":"Asia","3":"1.6100","4":"3.40599236","5":"2.9700","6":"0.68706069","7":"0.206825876","8":"0.476234179"},{"1":"Bolivia","2":"Americas","3":"1.9600","4":"3.11270013","5":"1.9200","6":"0.97085365","7":"0.292256071","8":"0.672944473"},{"1":"Bosnia and Herzegovina","2":"Europe","3":"6.5300","4":"3.88752527","5":"-0.0592","6":"2.70708299","7":"0.814913181","8":"1.876406943"},{"1":"Botswana","2":"Africa","3":"2.9600","4":"4.06177620","5":"3.2800","6":"1.56559718","7":"0.471291711","8":"1.085189268"},{"1":"Brazil","2":"Americas","3":"2.1800","4":"3.86789646","5":"1.0800","6":"1.12432814","7":"0.338456494","8":"0.779324877"},{"1":"Brunei","2":"Asia","3":"18.5000","4":"5.95884267","5":"1.4600","6":"4.20945337","7":"1.267171728","8":"2.917770732"},{"1":"Bulgaria","2":"Europe","3":"6.3200","4":"4.47897180","5":"-0.2690","6":"2.65992456","7":"0.800717078","8":"1.843719208"},{"1":"Burkina Faso","2":"Africa","3":"0.1980","4":"1.07038933","5":"4.9800","6":"-2.33642766","7":"-0.703334810","8":"-1.619488248"},{"1":"Burundi","2":"Africa","3":"0.0467","4":"-0.35845397","5":"5.7000","6":"-4.42043364","7":"-1.330683119","8":"-3.064011114"},{"1":"Cambodia","2":"Asia","3":"0.6400","4":"1.98913901","5":"3.2500","6":"-0.64385619","7":"-0.193820026","8":"-0.446287103"},{"1":"Cameroon","2":"Africa","3":"0.3230","4":"1.89917563","5":"3.6800","6":"-1.63039393","7":"-0.490797478","8":"-1.130102956"},{"1":"Canada","2":"Americas","3":"15.3000","4":"5.61765112","5":"1.4900","6":"3.93545975","7":"1.184691431","8":"2.727852828"},{"1":"Cape Verde","2":"Africa","3":"1.1600","4":"2.77820858","5":"1.8800","6":"0.21412481","7":"0.064457989","8":"0.148420005"},{"1":"Central African Republic","2":"Africa","3":"0.0651","4":"0.04264434","5":"2.4500","6":"-3.94119865","7":"-1.186419011","8":"-2.731830730"},{"1":"Chad","2":"Africa","3":"0.0656","4":"0.66902677","5":"3.9000","6":"-3.93016037","7":"-1.183096161","8":"-2.724179583"},{"1":"Chile","2":"Americas","3":"4.5900","4":"4.62058641","5":"1.4800","6":"2.19849415","7":"0.661812686","8":"1.523880024"},{"1":"China","2":"Asia","3":"7.0600","4":"3.94485845","5":"2.5000","6":"2.81966818","7":"0.848804701","8":"1.954445052"},{"1":"Colombia","2":"Americas","3":"1.9600","4":"3.87774425","5":"1.9400","6":"0.97085365","7":"0.292256071","8":"0.672944473"},{"1":"Comoros","2":"Africa","3":"0.2630","4":"1.65076456","5":"2.8700","6":"-1.92686530","7":"-0.580044252","8":"-1.335601247"},{"1":"Congo, Dem. Rep.","2":"Africa","3":"0.0243","4":"0.11103131","5":"4.5400","6":"-5.36289988","7":"-1.614393726","8":"-3.717278929"},{"1":"Congo, Rep.","2":"Africa","3":"0.6170","4":"1.77820858","5":"3.2700","6":"-0.69665761","7":"-0.209714836","8":"-0.482886255"},{"1":"Costa Rica","2":"Americas","3":"1.6100","4":"4.33628339","5":"1.9800","6":"0.68706069","7":"0.206825876","8":"0.476234179"},{"1":"Cote d'Ivoire","2":"Africa","3":"0.3350","4":"2.31034012","5":"3.4500","6":"-1.57776700","7":"-0.474955193","8":"-1.093624747"},{"1":"Croatia","2":"Europe","3":"4.4800","4":"4.83289001","5":"-0.4010","6":"2.16349873","7":"0.651278014","8":"1.499623046"},{"1":"Cuba","2":"Americas","3":"2.5300","4":"NA","5":"0.0681","6":"1.33913738","7":"0.403120521","8":"0.928219303"},{"1":"Cyprus","2":"Europe","3":"6.3000","4":"5.28909670","5":"0.7700","6":"2.65535183","7":"0.799340549","8":"1.840549633"},{"1":"Czech Republic","2":"Europe","3":"9.9400","4":"5.28169825","5":"0.4930","6":"3.31324585","7":"0.997386384","8":"2.296567021"},{"1":"Denmark","2":"Europe","3":"6.0600","4":"5.88508623","5":"0.6290","6":"2.59931779","7":"0.782472624","8":"1.801709800"},{"1":"Djibouti","2":"Africa","3":"0.6720","4":"2.34766566","5":"1.7200","6":"-0.57346686","7":"-0.172630727","8":"-0.397496938"},{"1":"Dominican Republic","2":"Americas","3":"2.3400","4":"4.12101540","5":"2.0700","6":"1.22650853","7":"0.369215857","8":"0.850150929"},{"1":"Ecuador","2":"Americas","3":"2.4600","4":"3.52356196","5":"2.0000","6":"1.29865832","7":"0.390935107","8":"0.900161350"},{"1":"Egypt","2":"Africa","3":"2.4300","4":"3.49825087","5":"2.0300","6":"1.28095631","7":"0.385606274","8":"0.887891257"},{"1":"El Salvador","2":"Americas","3":"1.1100","4":"3.05658353","5":"1.5500","6":"0.15055968","7":"0.045322979","8":"0.104360015"},{"1":"Equatorial Guinea","2":"Africa","3":"4.3500","4":"4.00000000","5":"4.3400","6":"2.12101540","7":"0.638489257","8":"1.470175845"},{"1":"Eritrea","2":"Africa","3":"0.2150","4":"0.94335876","5":"NA","6":"-2.21759144","7":"-0.667561540","8":"-1.537117251"},{"1":"Estonia","2":"Europe","3":"14.8000","4":"5.15785217","5":"0.5850","6":"3.88752527","7":"1.170261715","8":"2.694627181"},{"1":"Eswatini","2":"Africa","3":"1.0600","4":"3.02325535","5":"1.7500","6":"0.08406426","7":"0.025305865","8":"0.058268908"},{"1":"Ethiopia","2":"Africa","3":"0.1370","4":"1.09761080","5":"4.8300","6":"-2.86775220","7":"-0.863279433","8":"-1.987774353"},{"1":"Fiji","2":"Asia","3":"2.4100","4":"3.73335434","5":"1.5900","6":"1.26903315","7":"0.382017043","8":"0.879626748"},{"1":"Finland","2":"Europe","3":"8.5200","4":"5.63807384","5":"0.1990","6":"3.09085343","7":"0.930439595","8":"2.142416341"},{"1":"France","2":"Europe","3":"5.2000","4":"5.57591736","5":"0.6030","6":"2.37851162","7":"0.716003344","8":"1.648658626"},{"1":"Gabon","2":"Africa","3":"2.5300","4":"3.81762326","5":"3.0500","6":"1.33913738","7":"0.403120521","8":"0.928219303"},{"1":"Gambia","2":"Africa","3":"0.2680","4":"1.11769504","5":"4.0500","6":"-1.89969509","7":"-0.571865206","8":"-1.316768298"},{"1":"Georgia","2":"Europe","3":"2.6400","4":"3.80735492","5":"0.6470","6":"1.40053793","7":"0.421603927","8":"0.970778917"},{"1":"Germany","2":"Europe","3":"9.1400","4":"5.83289001","5":"0.3670","6":"3.19219417","7":"0.960946196","8":"2.212660385"},{"1":"Ghana","2":"Africa","3":"0.6150","4":"2.37851162","5":"3.3600","6":"-0.70134168","7":"-0.211124884","8":"-0.486133011"},{"1":"Greece","2":"Europe","3":"7.0300","4":"4.87282876","5":"0.2210","6":"2.81352469","7":"0.846955325","8":"1.950186706"},{"1":"Grenada","2":"Americas","3":"2.4300","4":"3.96347412","5":"0.8170","6":"1.28095631","7":"0.385606274","8":"0.887891257"},{"1":"Guatemala","2":"Americas","3":"1.0700","4":"3.08576455","5":"2.3400","6":"0.09761080","7":"0.029383778","8":"0.067658648"},{"1":"Guinea","2":"Africa","3":"0.2560","4":"1.30451104","5":"3.8000","6":"-1.96578428","7":"-0.591760035","8":"-1.362577835"},{"1":"Guinea-Bissau","2":"Africa","3":"0.1810","4":"0.91073266","5":"3.4600","6":"-2.46593840","7":"-0.742321425","8":"-1.709258248"},{"1":"Guyana","2":"Americas","3":"3.1200","4":"3.66675659","5":"0.7440","6":"1.64154603","7":"0.494154594","8":"1.137833002"},{"1":"Haiti","2":"Americas","3":"0.2700","4":"1.70043972","5":"2.9700","6":"-1.88896869","7":"-0.568636236","8":"-1.309333320"},{"1":"Honduras","2":"Americas","3":"1.0400","4":"2.42223300","5":"2.7900","6":"0.05658353","7":"0.017033339","8":"0.039220713"},{"1":"Hong Kong, China","2":"Asia","3":"5.8600","4":"6.03342300","5":"0.7990","6":"2.55090066","7":"0.767897616","8":"1.768149604"},{"1":"Hungary","2":"Europe","3":"5.1400","4":"4.94016675","5":"0.2790","6":"2.36176836","7":"0.710963119","8":"1.637053079"},{"1":"Iceland","2":"Europe","3":"10.8000","4":"5.76288029","5":"2.7200","6":"3.43295941","7":"1.033423755","8":"2.379546134"},{"1":"India","2":"Asia","3":"1.9600","4":"2.72246602","5":"2.3100","6":"0.97085365","7":"0.292256071","8":"0.672944473"},{"1":"Indonesia","2":"Asia","3":"2.3000","4":"3.49825087","5":"2.3500","6":"1.20163386","7":"0.361727836","8":"0.832909123"},{"1":"Iran","2":"Asia","3":"8.8100","4":"3.79701298","5":"2.0600","6":"3.13914202","7":"0.944975908","8":"2.175887440"},{"1":"Iraq","2":"Asia","3":"5.3200","4":"3.41953889","5":"2.6000","6":"2.41142625","7":"0.725911632","8":"1.671473303"},{"1":"Ireland","2":"Europe","3":"8.0900","4":"6.03342300","5":"1.5900","6":"3.01613970","7":"0.907948522","8":"2.090628731"},{"1":"Israel","2":"Asia","3":"7.6700","4":"5.31831684","5":"2.0200","6":"2.93922658","7":"0.884795364","8":"2.037316615"},{"1":"Italy","2":"Europe","3":"5.5800","4":"5.44294350","5":"0.2280","6":"2.48026512","7":"0.746634199","8":"1.719188776"},{"1":"Jamaica","2":"Americas","3":"2.7900","4":"3.26153081","5":"1.0100","6":"1.48026512","7":"0.445604203","8":"1.026041596"},{"1":"Japan","2":"Asia","3":"9.1400","4":"5.45285896","5":"-0.1140","6":"3.19219417","7":"0.960946196","8":"2.212660385"},{"1":"Jordan","2":"Asia","3":"2.4200","4":"3.35049725","5":"2.0700","6":"1.27500705","7":"0.383815366","8":"0.883767540"},{"1":"Kazakhstan","2":"Asia","3":"17.6000","4":"4.51727569","5":"1.4700","6":"4.13750352","7":"1.245512668","8":"2.867898902"},{"1":"Kenya","2":"Africa","3":"0.3600","4":"2.13093087","5":"4.0500","6":"-1.47393119","7":"-0.443697499","8":"-1.021651248"},{"1":"Kiribati","2":"Asia","3":"0.6010","4":"2.10097765","5":"2.9500","6":"-0.73456310","7":"-0.221125528","8":"-0.509160344"},{"1":"Kuwait","2":"Asia","3":"23.7000","4":"5.87036472","5":"1.9800","6":"4.56681515","7":"1.374748346","8":"3.165475048"},{"1":"Kyrgyzstan","2":"Asia","3":"1.6000","4":"2.35049725","5":"2.5900","6":"0.67807191","7":"0.204119983","8":"0.470003629"},{"1":"Lao","2":"Asia","3":"2.7400","4":"2.88947354","5":"3.3800","6":"1.45417589","7":"0.437750563","8":"1.007957920"},{"1":"Latvia","2":"Europe","3":"3.7300","4":"4.92599942","5":"-0.6810","6":"1.89917563","7":"0.571708832","8":"1.316408234"},{"1":"Lebanon","2":"Asia","3":"3.5300","4":"4.00000000","5":"0.7710","6":"1.81966818","7":"0.547774705","8":"1.261297871"},{"1":"Lesotho","2":"Africa","3":"1.2600","4":"1.60880924","5":"2.3100","6":"0.33342373","7":"0.100370545","8":"0.231111721"},{"1":"Liberia","2":"Africa","3":"0.3240","4":"0.46466827","5":"3.3400","6":"-1.62593428","7":"-0.489454990","8":"-1.127011763"},{"1":"Libya","2":"Africa","3":"8.0900","4":"3.97269265","5":"1.8300","6":"3.01613970","7":"0.907948522","8":"2.090628731"},{"1":"Lithuania","2":"Europe","3":"4.8400","4":"5.14159628","5":"-0.7130","6":"2.27500705","7":"0.684845362","8":"1.576914721"},{"1":"Luxembourg","2":"Europe","3":"15.9000","4":"6.37155886","5":"2.2100","6":"3.99095486","7":"1.201397124","8":"2.766319109"},{"1":"Madagascar","2":"Africa","3":"0.1630","4":"0.66902677","5":"4.4800","6":"-2.61705613","7":"-0.787812396","8":"-1.814005078"},{"1":"Malawi","2":"Africa","3":"0.0762","4":"0.56559718","5":"3.9700","6":"-3.71406519","7":"-1.118045029","8":"-2.574393816"},{"1":"Malaysia","2":"Asia","3":"8.0800","4":"4.77610399","5":"2.1300","6":"3.01435529","7":"0.907411361","8":"2.089391873"},{"1":"Maldives","2":"Asia","3":"2.9600","4":"4.12928302","5":"4.9000","6":"1.56559718","7":"0.471291711","8":"1.085189268"},{"1":"Mali","2":"Africa","3":"0.1870","4":"1.18269230","5":"4.8800","6":"-2.41888982","7":"-0.728158393","8":"-1.676646662"},{"1":"Malta","2":"Europe","3":"3.6100","4":"5.35755200","5":"3.5600","6":"1.85199884","7":"0.557507202","8":"1.283707772"},{"1":"Marshall Islands","2":"Oceania","3":"2.5800","4":"2.31903982","5":"1.1300","6":"1.36737107","7":"0.411619706","8":"0.947789399"},{"1":"Mauritania","2":"Africa","3":"0.6050","4":"2.40326772","5":"4.3700","6":"-0.72499295","7":"-0.218244625","8":"-0.502526821"},{"1":"Mauritius","2":"Africa","3":"3.8300","4":"4.67242534","5":"-0.0631","6":"1.93734439","7":"0.583198774","8":"1.342864803"},{"1":"Mexico","2":"Americas","3":"3.7900","4":"4.29278175","5":"1.4900","6":"1.92219785","7":"0.578639210","8":"1.332366019"},{"1":"Micronesia","2":"Asia","3":"1.3400","4":"1.85996955","5":"1.4700","6":"0.42223300","7":"0.127104798","8":"0.292669614"},{"1":"Moldova","2":"Europe","3":"1.2700","4":"3.73335434","5":"-1.5500","6":"0.34482850","7":"0.103803721","8":"0.239016900"},{"1":"Mongolia","2":"Asia","3":"8.8800","4":"3.48542683","5":"1.9200","6":"3.15055968","7":"0.948412966","8":"2.183801557"},{"1":"Montenegro","2":"Europe","3":"3.2000","4":"4.44625623","5":"0.4810","6":"1.67807191","7":"0.505149978","8":"1.163150810"},{"1":"Morocco","2":"Africa","3":"1.8400","4":"2.90303827","5":"2.1300","6":"0.87970577","7":"0.264817823","8":"0.609765572"},{"1":"Mozambique","2":"Africa","3":"0.2810","4":"0.36737107","5":"4.4100","6":"-1.83135796","7":"-0.551293680","8":"-1.269400610"},{"1":"Myanmar","2":"Asia","3":"0.4910","4":"2.15055968","5":"1.4500","6":"-1.02620507","7":"-0.308918508","8":"-0.711311151"},{"1":"Namibia","2":"Africa","3":"1.7500","4":"3.31469653","5":"3.9600","6":"0.80735492","7":"0.243038049","8":"0.559615788"},{"1":"Nauru","2":"Oceania","3":"4.7100","4":"4.22496637","5":"0.9500","6":"2.23572706","7":"0.673020907","8":"1.549687908"},{"1":"Nepal","2":"Asia","3":"0.3370","4":"1.95977015","5":"3.7300","6":"-1.56917950","7":"-0.472370099","8":"-1.087672349"},{"1":"Netherlands","2":"Europe","3":"9.4800","4":"5.87036472","5":"1.0400","6":"3.24488706","7":"0.976808337","8":"2.249184316"},{"1":"New Zealand","2":"Oceania","3":"7.3400","4":"5.35755200","5":"1.8700","6":"2.87578006","7":"0.865696060","8":"1.993338843"},{"1":"Nicaragua","2":"Americas","3":"0.8620","4":"2.47767733","5":"1.6400","6":"-0.21424023","7":"-0.064492734","8":"-0.148500008"},{"1":"Niger","2":"Africa","3":"0.1030","4":"0.36737107","5":"4.2700","6":"-3.27928376","7":"-0.987162775","8":"-2.273026291"},{"1":"Nigeria","2":"Africa","3":"0.6500","4":"2.33342373","5":"4.2400","6":"-0.62148838","7":"-0.187086643","8":"-0.430782916"},{"1":"North Korea","2":"Asia","3":"NA","4":"NA","5":"0.8280","6":"NA","7":"NA","8":"NA"},{"1":"North Macedonia","2":"Europe","3":"3.4900","4":"4.00898878","5":"0.6890","6":"1.80322704","7":"0.542825427","8":"1.249901736"},{"1":"Norway","2":"Europe","3":"8.3100","4":"6.17791779","5":"1.1200","6":"3.05484848","7":"0.919601024","8":"2.117459609"},{"1":"Oman","2":"Asia","3":"13.9000","4":"4.97269265","5":"4.6100","6":"3.79701298","7":"1.143014800","8":"2.631888840"},{"1":"Pakistan","2":"Asia","3":"1.0500","4":"2.25398927","5":"2.6700","6":"0.07038933","7":"0.021189299","8":"0.048790164"},{"1":"Palau","2":"Oceania","3":"13.2000","4":"4.27798475","5":"1.2800","6":"3.72246602","7":"1.120573931","8":"2.580216830"},{"1":"Palestine","2":"Asia","3":"0.6610","4":"2.92219785","5":"2.8900","6":"-0.59727782","7":"-0.179798541","8":"-0.414001439"},{"1":"Panama","2":"Americas","3":"2.6200","4":"4.88752527","5":"2.2000","6":"1.38956681","7":"0.418301291","8":"0.963174318"},{"1":"Papua New Guinea","2":"Asia","3":"0.9110","4":"2.06350294","5":"2.4800","6":"-0.13447704","7":"-0.040481623","8":"-0.093212382"},{"1":"Paraguay","2":"Americas","3":"1.0700","4":"3.66675659","5":"1.7500","6":"0.09761080","7":"0.029383778","8":"0.067658648"},{"1":"Peru","2":"Americas","3":"1.7400","4":"3.63226821","5":"1.9600","6":"0.79908731","7":"0.240549248","8":"0.553885113"},{"1":"Philippines","2":"Asia","3":"1.2700","4":"3.27052894","5":"1.8800","6":"0.34482850","7":"0.103803721","8":"0.239016900"},{"1":"Poland","2":"Europe","3":"9.0700","4":"4.93545975","5":"-0.0784","6":"3.18110255","7":"0.957607287","8":"2.204972264"},{"1":"Portugal","2":"Europe","3":"4.9700","4":"5.09169983","5":"0.7010","6":"2.31324585","7":"0.696356389","8":"1.603419840"},{"1":"Qatar","2":"Asia","3":"38.0000","4":"6.51254295","5":"2.1300","6":"5.24792751","7":"1.579783597","8":"3.637586160"},{"1":"Romania","2":"Europe","3":"3.8000","4":"4.84799691","5":"-0.4730","6":"1.92599942","7":"0.579783597","8":"1.335001067"},{"1":"Russia","2":"Europe","3":"11.7000","4":"4.81249822","5":"0.1770","6":"3.54843662","7":"1.068185862","8":"2.459588842"},{"1":"Rwanda","2":"Africa","3":"0.0913","4":"1.04264434","5":"3.1500","6":"-3.45324133","7":"-1.039529222","8":"-2.393604491"},{"1":"Samoa","2":"Asia","3":"1.3200","4":"2.65764001","5":"-0.7430","6":"0.40053793","7":"0.120573931","8":"0.277631737"},{"1":"Sao Tome and Principe","2":"Africa","3":"0.5870","4":"2.03210084","5":"3.0400","6":"-0.76856759","7":"-0.231361899","8":"-0.532730459"},{"1":"Saudi Arabia","2":"Asia","3":"18.4000","4":"5.62058641","5":"2.0700","6":"4.20163386","7":"1.264817823","8":"2.912350665"},{"1":"Senegal","2":"Africa","3":"0.7390","4":"1.72246602","5":"3.7400","6":"-0.43635373","7":"-0.131355562","8":"-0.302457358"},{"1":"Serbia","2":"Europe","3":"5.1700","4":"4.07038933","5":"-0.2790","6":"2.37016428","7":"0.713490543","8":"1.642872689"},{"1":"Seychelles","2":"Africa","3":"6.7500","4":"4.78135971","5":"1.7200","6":"2.75488750","7":"0.829303773","8":"1.909542505"},{"1":"Sierra Leone","2":"Africa","3":"0.1410","4":"0.65992456","5":"3.1400","6":"-2.82623293","7":"-0.850780887","8":"-1.958995389"},{"1":"Singapore","2":"Asia","3":"7.1000","4":"6.47411151","5":"0.4700","6":"2.82781902","7":"0.851258349","8":"1.960094784"},{"1":"Slovak Republic","2":"Europe","3":"6.6100","4":"4.94485845","5":"0.0920","6":"2.72465027","7":"0.820201459","8":"1.888583654"},{"1":"Slovenia","2":"Europe","3":"6.9500","4":"5.26303441","5":"0.8550","6":"2.79701298","7":"0.841984805","8":"1.938741660"},{"1":"Solomon Islands","2":"Asia","3":"0.2730","4":"1.44890095","5":"4.5800","6":"-1.87302714","7":"-0.563837353","8":"-1.298283484"},{"1":"Somalia","2":"Africa","3":"0.0466","4":"0.20163386","5":"4.1300","6":"-4.42352623","7":"-1.331614083","8":"-3.066154738"},{"1":"South Africa","2":"Africa","3":"8.1000","4":"3.78659636","5":"2.1300","6":"3.01792191","7":"0.908485019","8":"2.091864062"},{"1":"South Korea","2":"Asia","3":"12.9000","4":"5.43295941","5":"0.3800","6":"3.68929916","7":"1.110589710","8":"2.557227311"},{"1":"Spain","2":"Europe","3":"5.7500","4":"5.35049725","5":"0.7380","6":"2.52356196","7":"0.759667845","8":"1.749199855"},{"1":"Sri Lanka","2":"Asia","3":"1.1000","4":"3.67807190","5":"1.5500","6":"0.13750352","7":"0.041392685","8":"0.095310180"},{"1":"St. Lucia","2":"Americas","3":"2.3100","4":"3.88752527","5":"0.8690","6":"1.20789285","7":"0.363611980","8":"0.837247525"},{"1":"St. Vincent and the Grenadines","2":"Americas","3":"2.0300","4":"3.66675659","5":"1.1500","6":"1.02147973","7":"0.307496038","8":"0.708035793"},{"1":"Sudan","2":"Africa","3":"0.5040","4":"2.07382023","5":"3.1800","6":"-0.98850436","7":"-0.297569464","8":"-0.685179011"},{"1":"Suriname","2":"Americas","3":"3.1000","4":"4.13750352","5":"0.9860","6":"1.63226822","7":"0.491361694","8":"1.131402111"},{"1":"Sweden","2":"Europe","3":"4.1200","4":"5.76818433","5":"1.4900","6":"2.04264434","7":"0.614897216","8":"1.415853163"},{"1":"Switzerland","2":"Europe","3":"4.3300","4":"6.10433666","5":"0.7850","6":"2.11436702","7":"0.636487896","8":"1.465567542"},{"1":"Syria","2":"Asia","3":"1.6700","4":"2.22774108","5":"0.3450","6":"0.73984810","7":"0.222716471","8":"0.512823626"},{"1":"Taiwan","2":"Asia","3":"11.6000","4":"5.97030150","5":"NA","6":"3.53605290","7":"1.064457989","8":"2.451005098"},{"1":"Tajikistan","2":"Asia","3":"0.6030","4":"2.01792191","5":"3.0200","6":"-0.72977009","7":"-0.219682688","8":"-0.505838082"},{"1":"Tanzania","2":"Africa","3":"0.2220","4":"1.38956681","5":"5.1400","6":"-2.17136842","7":"-0.653647026","8":"-1.505077897"},{"1":"Thailand","2":"Asia","3":"4.1500","4":"4.13750352","5":"1.8300","6":"2.05311134","7":"0.618048097","8":"1.423108334"},{"1":"Timor-Leste","2":"Asia","3":"0.4120","4":"2.17951105","5":"3.1700","6":"-1.27928376","7":"-0.385102784","8":"-0.886731930"},{"1":"Togo","2":"Africa","3":"0.4340","4":"1.08406427","5":"3.7500","6":"-1.20423305","7":"-0.362510270","8":"-0.834710745"},{"1":"Tonga","2":"Asia","3":"1.3100","4":"2.79908731","5":"1.0000","6":"0.38956681","7":"0.117271296","8":"0.270027137"},{"1":"Trinidad and Tobago","2":"Americas","3":"31.3000","4":"4.70597790","5":"0.3770","6":"4.96809075","7":"1.495544338","8":"3.443618098"},{"1":"Tunisia","2":"Africa","3":"2.7300","4":"3.49825087","5":"1.5900","6":"1.44890095","7":"0.436162647","8":"1.004301609"},{"1":"Turkey","2":"Europe","3":"5.2000","4":"4.78135971","5":"2.1600","6":"2.37851162","7":"0.716003344","8":"1.648658626"},{"1":"Turkmenistan","2":"Asia","3":"13.7000","4":"3.86789646","5":"2.4600","6":"3.77610399","7":"1.136720567","8":"2.617395833"},{"1":"Tuvalu","2":"Oceania","3":"1.0100","4":"2.60407132","5":"2.6100","6":"0.01435529","7":"0.004321374","8":"0.009950331"},{"1":"Uganda","2":"Africa","3":"0.1350","4":"1.07724300","5":"6.1900","6":"-2.88896869","7":"-0.869666232","8":"-2.002480501"},{"1":"Ukraine","2":"Europe","3":"5.0900","4":"3.67807190","5":"-0.3130","6":"2.34766566","7":"0.706717782","8":"1.627277831"},{"1":"United Arab Emirates","2":"Asia","3":"21.4000","4":"6.10433666","5":"1.8200","6":"4.41953889","7":"1.330413773","8":"3.063390922"},{"1":"United Kingdom","2":"Europe","3":"5.6500","4":"5.55151602","5":"0.9120","6":"2.49825087","7":"0.752048448","8":"1.731655545"},{"1":"United States","2":"Americas","3":"16.6000","4":"6.00225245","5":"0.7670","6":"4.05311134","7":"1.220108088","8":"2.809402695"},{"1":"Uruguay","2":"Americas","3":"2.0100","4":"4.47897180","5":"0.4660","6":"1.00719550","7":"0.303196057","8":"0.698134722"},{"1":"Uzbekistan","2":"Asia","3":"2.8100","4":"2.89917563","5":"1.5900","6":"1.49057013","7":"0.448706320","8":"1.033184483"},{"1":"Vanuatu","2":"Asia","3":"0.5290","4":"1.70487196","5":"2.9200","6":"-0.91866037","7":"-0.276544328","8":"-0.636766847"},{"1":"Venezuela","2":"Americas","3":"4.8100","4":"2.61022759","5":"-1.7400","6":"2.26603689","7":"0.682145076","8":"1.570697084"},{"1":"Vietnam","2":"Asia","3":"2.1600","4":"2.86195536","5":"2.9800","6":"1.11103131","7":"0.334453751","8":"0.770108222"},{"1":"Yemen","2":"Asia","3":"0.3560","4":"0.99783433","5":"4.0800","6":"-1.49005085","7":"-0.448550002","8":"-1.032824548"},{"1":"Zambia","2":"Africa","3":"0.3020","4":"1.82781902","5":"4.1700","6":"-1.72737955","7":"-0.519993057","8":"-1.197328262"},{"1":"Zimbabwe","2":"Africa","3":"0.8500","4":"1.98185265","5":"1.3200","6":"-0.23446525","7":"-0.070581074","8":"-0.162518929"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit model</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>lm.ln <span class="ot">=</span> <span class="fu">lm</span>(lnco2 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth, <span class="at">data =</span> carbon)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Model-level output</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(lm.ln)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["r.squared"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["adj.r.squared"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sigma"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["logLik"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["BIC"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["deviance"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["df.residual"],"name":[11],"type":["int"],"align":["right"]},{"label":["nobs"],"name":[12],"type":["int"],"align":["right"]}],"data":[{"1":"0.8377489","2":"0.8368719","3":"0.6000472","4":"955.208","5":"5.599092e-75","6":"1","7":"-168.8265","8":"343.6529","9":"353.3462","10":"66.61049","11":"185","12":"187"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The model-level output is identical to the model-level output from the base-2 and base-10 model, which we expected. That is differences in wealth explains 83.8% of the variation in CO2 emissions.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(lm.ln)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)      wealth 
 -2.1965295   0.8236594 </code></pre>
</div>
</div>
<p>Because we changed the base, the coefficient estimates for the fitted equation have changed. Writing the new fitted equation:</p>
<p><span class="math display">\[
\ln(\widehat{\mathrm{CO2}_i}) = -2.20 + 0.824(\mathrm{Wealth}_i)
\]</span></p>
<p>Or, back-transforming the left-hand side:</p>
<p><span class="math display">\[
\widehat{\mathrm{CO2}_i} = e^{2.20} \times e^{0.824(\mathrm{Wealth}_i)}
\]</span></p>
<p>To interpret these, we exponentiate the coefficients using base-e.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exponentiate using base-e</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">coef</span>(lm.ln))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)      wealth 
  0.1111884   2.2788237 </code></pre>
</div>
</div>
<p>We get the exact same back-transformed coefficients as we did when we back-transformed the base-2 coefficients. Again, this is expected. Based on these, the interpretations are:</p>
<ul>
<li><strong>Intercept:</strong> The predicted CO2 emissions for a countries that have a wealth level of 0 is 0.111 metric tons per person, on average (extrapolation).</li>
<li><strong>Rate-of-Change:</strong> Each one-unit difference in wealth level is associated with a 2.28-fold difference in carbon emissions, on average. OR using the language of percent change, each one-unit difference in wealth level is associated with a 128% increase in carbon emissions, on average.</li>
</ul>
<p>Lastly, we can plot the fitted curve.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> co2)) <span class="sc">+</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {<span class="fu">exp</span>(<span class="sc">-</span><span class="fl">2.20</span>) <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">0.824</span><span class="sc">*</span>x)} ) <span class="sc">+</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Predicted CO2 emissions (in metric tones per person)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-model-e-fitted" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-model-e-fitted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-model-e-fitted-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-model-e-fitted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Plot of predicted CO2 emisssions as a function of wealth.
</figcaption>
</figure>
</div>
</div>
</div>
<p>This is the exact same fitted curve we obtained from the base-2 and base-10 models. Once again, this is completely expected.</p>
</section>
<section id="what-is-special-about-base-e" class="level2">
<h2 class="anchored" data-anchor-id="what-is-special-about-base-e">What is Special About Base-e</h2>
<p>Other than being a cool number, why do Social Scientists like using base-e? It turns out that if the slope estimate is small (e.g., <span class="math inline">\(\hat\beta_k &lt; 0.20\)</span>), we can directly take the slope value from the <code>coef()</code> output, multiply it by 100, and interpret it as the percent change. That is because for small values of the slope,</p>
<p><span class="math display">\[
(e^{\hat{\beta_1}} -1) \approx \hat{\beta_1}
\]</span></p>
<p>In our example, the slope is not less than 0.20, so we have to do the math, <span class="math inline">\((e^{0.824}-1)\times 100=128\)</span>, to compute the percent change.</p>
</section>
</section>
<section id="modeling-the-remaining-non-linearity" class="level1">
<h1>Modeling the Remaining Non-Linearity</h1>
<p>Remember that the residual plots suggested that the problem of heterogeneity in the residuals was “fixed” by using the log-transformed outcome, but it did not completely fix the non-linearity. We can also see this by plotting the log-transformed CO2 emisssions versus wealth.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> <span class="fu">log</span>(co2))) <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"ln(Carbon emissions)"</span>) <span class="sc">+</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">6.4</span>, <span class="at">y =</span> <span class="fl">3.64</span>, <span class="at">label =</span> <span class="st">"Quatar"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">4.6</span>, <span class="at">y =</span> <span class="fl">3.44</span>, <span class="at">label =</span> <span class="st">"Trinidad and Tobago"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-scatterplot-log-take2" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplot-log-take2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-scatterplot-log-take2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplot-log-take2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Scatterplot between wealth and log-transformed CO2 emissions. The loess smoother (blue, dashed line) is also displayed. The two countries with extreme carbon emissions are also identified on this plot.
</figcaption>
</figure>
</div>
</div>
</div>
<p>How do we model the non-linearity we observe in the relationship even after we log-transformed the outcome? The pattern shown by the loess smoother in the plot, suggests a curvilinear pattern similar to what we observed in the college data in previous sets of notes. This means we can try to model the non-linearity by including a polynomial effect of wealth in the model.</p>
<p>To see if this improves our assumptions we will fit the polynomial model and examine the residuals. Here we fit the model by creating the natural logarithm of the CO2 values directly in the <code>lm()</code>. (If we do that, we don’t have to create a new column of log-transfomed values in the data!)</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit polynomial model</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>lm.poly <span class="ot">=</span> <span class="fu">lm</span>(<span class="fu">log</span>(co2) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth <span class="sc">+</span> <span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>), <span class="at">data =</span> carbon)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Residual plots</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">residual_plots</span>(lm.poly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-residuals-log-quad" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-residuals-log-quad-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-residuals-log-quad-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-residuals-log-quad-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Density plots of the standardized residuals and scatterplot of the standardized residuals versus the fitted values for the model using the linear and quadratic effects of wealth to predict variation in log-transfomed carbon emissions. The reference line of Y=0 is also displayed along with the 95% confidence envelope (grey shaded area) in the scatterplot. The loess smoother (solid, blue line) shows the empirical relationship betwen the residuals and fitted values.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Based on the residual plots, the polynomial model shows good fit to all the assumptions. Although this is reason enough to adopt the model that includes the quadratic term, we can also evaluate this by computing and comparing the AICc (and associated information theoretic metrics) for this model and the model that only includes the linear effect of wealth.</p>
<p>Because the <code>aictab()</code> function requires us to use the exact same outcome (computed in exactly the same way), we will refit the linear and quadratic models by computing the natural log of CO2 emissions directly in the <code>lm()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit linear model</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>lm.ln <span class="ot">=</span> <span class="fu">lm</span>(<span class="fu">log</span>(co2) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth, <span class="at">data =</span> carbon)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit polynomial model</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>lm.poly <span class="ot">=</span> <span class="fu">lm</span>(<span class="fu">log</span>(co2) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth <span class="sc">+</span> <span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>), <span class="at">data =</span> carbon)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of model evidence</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="fu">aictab</span>(</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">cand.set =</span> <span class="fu">list</span>(lm.ln, lm.poly),</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">modnames =</span> <span class="fu">c</span>(<span class="st">"Linear effect"</span>, <span class="st">"Quadratic effect"</span>)</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Modnames"],"name":[1],"type":["chr"],"align":["left"]},{"label":["K"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AICc"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Delta_AICc"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["ModelLik"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["AICcWt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["LL"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Cum.Wt"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"Quadratic effect","2":"4","3":"313.7970","4":"0.00000","5":"1.0000000000000","6":"0.9999996921142","7":"-152.7886","8":"0.9999997","_rn_":"2"},{"1":"Linear effect","2":"3","3":"343.7841","4":"29.98707","5":"0.0000003078858","6":"0.0000003078858","7":"-168.8265","8":"1.0000000","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The empirical evidence supports adopting the polynomial model that includes both the quadratic and linear effects of wealth.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(lm.poly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["r.squared"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["adj.r.squared"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sigma"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["logLik"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["BIC"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["deviance"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["df.residual"],"name":[11],"type":["int"],"align":["right"]},{"label":["nobs"],"name":[12],"type":["int"],"align":["right"]}],"data":[{"1":"0.8633234","2":"0.8618378","3":"0.5522244","4":"581.122","5":"3.046852e-80","6":"2","7":"-152.7886","8":"313.5772","9":"326.5016","10":"56.11113","11":"184","12":"187"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Examining the model-level summary information from the quadratic polynomial model, we find that the model explains 86.3% of the variation in CO2 emisssions.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(lm.poly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)      wealth I(wealth^2) 
 -2.8993795   1.3823852  -0.0836962 </code></pre>
</div>
</div>
<p>From the coefficient-level output, the fitted equation is:</p>
<p><span class="math display">\[
\ln\left(\widehat{\mathrm{CO2}_i}\right) = -2.90 + 1.38(\mathrm{Wealth}_i) - 0.0837(\mathrm{Wealth}_i^2)
\]</span></p>
<p><br></p>
<section id="interpreting-the-effect-of-wealth" class="level2">
<h2 class="anchored" data-anchor-id="interpreting-the-effect-of-wealth">Interpreting the Effect of Wealth</h2>
<p>Since the quadratic term is an interaction term, we interpret the effect of wealth generally as:</p>
<div class="interpret">
<p><strong>Interpretation</strong></p>
<p>The effect of wealth on carbon dioxide emissions depends on the level of wealth.</p>
</div>
<p>To better understand the nature of this relationship we plot the fitted curve. To do so, we first back-transform the metric of log-carbon emission to the metric of raw carbon emissions. Remember, this creates a multiplicative relationship among the exponentiated coefficients. Exponentiating both sides of the fitted equation:</p>
<p><span class="math display">\[
\widehat{\mathrm{CO2}_i} = e^{-2.90} \times e^{1.38(\mathrm{Wealth}_i)} \times e^{-0.0837(\mathrm{Wealth}_i^2)}
\]</span></p>
<p>Plotting this function will allow us to understand the relationship between wealth and carbon emissions from the polynomial model. Inputting this into the <code>geom_function()</code> layer of our <code>ggplot()</code> syntax, we get:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> co2)) <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {<span class="fu">exp</span>(<span class="sc">-</span><span class="fl">2.90</span>) <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">1.38</span><span class="sc">*</span>x) <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">0.0837</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span>)} ) <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Predicted CO2 (in metric tons per person)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-poly-fitted" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-poly-fitted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-poly-fitted-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-poly-fitted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: Plot of predicted carbon emisssions as a function of wealth for the quadratic polynomial model.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="interpret">
<p><strong>Answering the First Research Question</strong></p>
<p>The relationship between wealth and carbon emisssions is complicated. It combines the positive exponential growth we saw earlier with the change in curvature of the negative quadratic effect. In general wealthier countries have exponentially increasing CO2 emissions that begins to diminish for countries with exceptionally high wealth levels.</p>
</div>
<p><br></p>
</section>
</section>
<section id="rq-2-does-the-quadratic-effect-of-wealth-persist-after-controlling-for-urbanization" class="level1">
<h1>RQ 2: Does the quadratic effect of wealth persist after controlling for urbanization?</h1>
<p>To answer the second research we will include urbanization in the model as a covariate. That is, we will fit the model:</p>
<p><span class="math display">\[
\ln\left(\mathrm{CO2}_i\right) = \beta_0 + \beta_1(\mathrm{Wealth}_i) + \beta_2(\mathrm{Wealth}_i^2) + \beta_3(\mathrm{Urbanization_i}) + \epsilon_i
\]</span></p>
<p>where <span class="math inline">\(\epsilon_i\overset{\mathrm{i.i.d.}}{\sim}\mathcal{N}(0,\sigma^2_{\epsilon})\)</span>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit model</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.3</span> <span class="ot">=</span> <span class="fu">lm</span>(<span class="fu">log</span>(co2) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth <span class="sc">+</span> <span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> urbanization, <span class="at">data =</span> carbon)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Model-level output</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(lm<span class="fl">.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["r.squared"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["adj.r.squared"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sigma"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["logLik"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["BIC"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["deviance"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["df.residual"],"name":[11],"type":["int"],"align":["right"]},{"label":["nobs"],"name":[12],"type":["int"],"align":["right"]}],"data":[{"1":"0.8612871","2":"0.858988","3":"0.5553722","4":"374.6177","5":"2.302017e-77","6":"3","7":"-151.6801","8":"313.3601","9":"329.4619","10":"55.82732","11":"181","12":"185"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This model explains 86.1% of the variation in carbon emissions. We also look at the model evidence.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of model evidence</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">aictab</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cand.set =</span> <span class="fu">list</span>(lm.ln, lm.poly, lm<span class="fl">.3</span>),</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modnames =</span> <span class="fu">c</span>(<span class="st">"Wealth"</span>, <span class="st">"Wealth, Wealth^2"</span>, <span class="st">"Wealth, Wealth^2, Urbanization"</span>)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Modnames"],"name":[1],"type":["chr"],"align":["left"]},{"label":["K"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AICc"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Delta_AICc"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["ModelLik"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["AICcWt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["LL"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Cum.Wt"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"Wealth, Wealth^2, Urbanization","2":"5","3":"313.6953","4":"0.0000000","5":"1.0000000000000","6":"0.5127016673005","7":"-151.6801","8":"0.5127017","_rn_":"3"},{"1":"Wealth, Wealth^2","2":"4","3":"313.7970","4":"0.1016358","5":"0.9504517222132","6":"0.4872981826673","7":"-152.7886","8":"0.9999998","_rn_":"2"},{"1":"Wealth","2":"3","3":"343.7841","4":"30.0887093","5":"0.0000002926306","6":"0.0000001500322","7":"-168.8265","8":"1.0000000","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The model that included urbanization has more empirical evidence than the model that doesn’t, but the <span class="math inline">\(\Delta\)</span>AICc values and model probabilities suggest that both models are reasonable candidates.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(lm<span class="fl">.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> (Intercept)       wealth  I(wealth^2) urbanization 
 -2.73862600   1.34091626  -0.08032407  -0.03308582 </code></pre>
</div>
</div>
<p>From the coefficient-level output, the fitted equation is:</p>
<p><span class="math display">\[
\ln\left(\widehat{\mathrm{CO2}_i}\right) = -2.74 + 1.34(\mathrm{Wealth}_i) -0.08(\mathrm{Wealth}_i^2) - 0.03(\mathrm{Urbanization}_i)
\]</span></p>
<p>Interpreting these in the log-metric:</p>
<ul>
<li>The intercept, <span class="math inline">\(\hat{\beta_0} = -2.74\)</span>, is the average predicted natural log of CO2 emissions for countries with a wealth level of 0 and an urbanization of 0 (extrapolation).</li>
<li>The linear slope of wealth would not be interpreted because it is part of an interaction term.</li>
<li>The effect of wealth on carbon emissions depends on the level of wealth, after controlling for differences in urbanization.</li>
<li>The urbanization effect indicates that each one-point difference in the urbanization measure is associated with lower natural log values of CO2 emissions by <span class="math inline">\(0.03\)</span>, on average, after controlling for differences in wealth.</li>
</ul>
<p>Back-transforming the fitted equation, we get:</p>
<p><span class="math display">\[
\widehat{\mathrm{CO2}_i} = e^{-2.74} \times e^{1.34(\mathrm{Wealth}_i)} \times e^{-0.08(\mathrm{Wealth}_i^2)} \times e^{- 0.03(\mathrm{Urbanization}_i)}
\]</span></p>
<p>If we exponentiate the coefficients:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">coef</span>(lm<span class="fl">.3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> (Intercept)       wealth  I(wealth^2) urbanization 
  0.06465913   3.82254435   0.92281724   0.96745553 </code></pre>
</div>
</div>
<p>Interpreting these :</p>
<ul>
<li>The average predicted CO2 emissions for countries with a wealth level of 0 and an urbanization of 0 is .064 tonnes (extrapolation).</li>
<li>The linear slope of wealth would not be interpreted because it is part of an interaction term.</li>
<li>The effect of wealth on carbon emissions depends on the level of wealth, after controlling for differences in urbanization.</li>
<li>Each one-point difference in the urbanization measure is associated with a 0.96-fold change in CO2 emissions, on average, after controlling for differences in wealth. OR Each one-point difference in the urbanization measure is associated with a 3.25% decrease in CO2 emissions, on average, after controlling for differences in wealth.</li>
</ul>
<p>Plotting this function will allow us to understand the relationship between wealth, urbanization, and carbon emissions from the polynomial model. Here I choose a low level of urbanization (0.8) and a high level of urbanization (6.2) based on the data. We substitute these into the fitted equation to get an equation expressing carbon dioxide emissions as a function of wealth which we will then input into a <code>geom_function()</code> layer of our <code>ggplot()</code> syntax.</p>
<p><strong>Low Urbanization</strong></p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= e^{-2.74} \times e^{1.34(\mathrm{Wealth}_i)} \times e^{-0.08(\mathrm{Wealth}_i^2)} \times e^{- 0.03(0.8)} \\[2ex]
&amp;= .065 \times e^{1.34(\mathrm{Wealth}_i)} \times e^{-0.08(\mathrm{Wealth}_i^2)} \times .976 \\[2ex]
&amp;= .0634 \times e^{1.34(\mathrm{Wealth}_i)} \times e^{-0.08(\mathrm{Wealth}_i^2)}
\end{split}
\]</span></p>
<p><strong>High Urbanization</strong></p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= e^{-2.74} \times e^{1.34(\mathrm{Wealth}_i)} \times e^{-0.08(\mathrm{Wealth}_i^2)} \times e^{- 0.03(6.2)} \\[2ex]
&amp;= .065 \times e^{1.34(\mathrm{Wealth}_i)} \times e^{-0.08(\mathrm{Wealth}_i^2)} \times .830 \\[2ex]
&amp;= .054 \times e^{1.34(\mathrm{Wealth}_i)} \times e^{-0.08(\mathrm{Wealth}_i^2)}
\end{split}
\]</span></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> co2)) <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {.<span class="dv">0634</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">1.34</span><span class="sc">*</span>x) <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">0.08</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span>)}, <span class="at">color =</span> <span class="st">"#56b4e9"</span>) <span class="sc">+</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {.<span class="dv">054</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">1.34</span><span class="sc">*</span>x) <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">0.08</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span>)}, <span class="at">color =</span> <span class="st">"#0072b2"</span>) <span class="sc">+</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Predicted CO2 (in metric tons per person)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rq2" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rq2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-rq2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rq2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Plot of predicted carbon emisssions as a function of wealth for the quadratic polynomial model shown for countries with low (light blue) and high (dark blue) urbanization.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="interpret">
<p><strong>Answering the Second Research Question</strong></p>
<p>Here we see that in general wealthier countries have exponentially increasing CO2 emissions that begins to diminish for countries with exceptionally high wealth levels. This pattern is similar for countries with both low and high urbanization, although the countries with higher urbanization have lower carbon dioxide emissions.</p>
</div>
</section>
<section id="rq-3-does-the-effect-of-wealth-vary-between-world-regions" class="level1">
<h1>RQ 3: Does the Effect of Wealth Vary Between World Regions?</h1>
<p>To answer the third research question, we will include world region and urbanization into the model along with our linear and quadratic effects of wealth. To determine if the effects of wealth are different across the different regions we have to include interaction effects between wealth and world region. Since our model includes a quadratic effect of wealth we need to include both:</p>
<ul>
<li><span class="math inline">\(\mathrm{Wealth} \times \mathrm{World~Region}\)</span>, and</li>
<li><span class="math inline">\(\mathrm{Wealth}^2 \times \mathrm{World~Region}\)</span></li>
</ul>
<p>Since world region is categorical, we will need to create a set of dummy variables to represent it in the models.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dummy variables for world region</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>carbon <span class="ot">=</span> carbon <span class="sc">|&gt;</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">africa =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">"Africa"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">asia =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">"Asia"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">americas =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">"Americas"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">europe =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">"Europe"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">oceania =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">"Oceania"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a><span class="co"># View data</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>carbon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["region"],"name":[2],"type":["chr"],"align":["left"]},{"label":["co2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["wealth"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["urbanization"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["l2co2"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["l10co2"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["lnco2"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["africa"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["asia"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["americas"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["europe"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["oceania"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"Afghanistan","2":"Asia","3":"0.2540","4":"1.07038933","5":"3.3500","6":"-1.97709960","7":"-0.595166283","8":"-1.370421012","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Albania","2":"Europe","3":"1.5900","4":"3.75488750","5":"1.3200","6":"0.66902677","7":"0.201397124","8":"0.463734016","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Algeria","2":"Africa","3":"3.6900","4":"3.53605290","5":"2.8100","6":"1.88362082","7":"0.567026366","8":"1.305626458","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Angola","2":"Africa","3":"1.1200","4":"2.71149491","5":"4.3100","6":"0.16349873","7":"0.049218023","8":"0.113328685","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Antigua and Barbuda","2":"Americas","3":"5.8800","4":"4.35755200","5":"0.4320","6":"2.55581616","7":"0.769377326","8":"1.771556762","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Argentina","2":"Americas","3":"4.4100","4":"4.49185310","5":"1.1500","6":"2.14077866","7":"0.644438589","8":"1.483874689","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Armenia","2":"Europe","3":"1.8900","4":"3.72246602","5":"0.3090","6":"0.91838623","7":"0.276461804","8":"0.636576829","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Australia","2":"Oceania","3":"16.9000","4":"5.60288441","5":"1.6600","6":"4.07895134","7":"1.227886705","8":"2.827313622","9":"0","10":"0","11":"0","12":"0","13":"1"},{"1":"Austria","2":"Europe","3":"7.7500","4":"5.81762326","5":"0.8360","6":"2.95419631","7":"0.889301703","8":"2.047692843","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Azerbaijan","2":"Europe","3":"3.7000","4":"3.78659636","5":"1.4700","6":"1.88752527","7":"0.568201724","8":"1.308332820","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Bahamas","2":"Americas","3":"4.7000","4":"5.12928302","5":"1.1300","6":"2.23266076","7":"0.672097858","8":"1.547562509","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Bahrain","2":"Asia","3":"19.8000","4":"5.48864354","5":"5.0300","6":"4.30742853","7":"1.296665190","8":"2.985681938","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Bangladesh","2":"Asia","3":"0.5310","4":"2.24792751","5":"3.1900","6":"-0.91321623","7":"-0.274905479","8":"-0.632993258","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Barbados","2":"Americas","3":"4.4800","4":"3.93545975","5":"0.1050","6":"2.16349873","7":"0.651278014","8":"1.499623046","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Belarus","2":"Europe","3":"6.9300","4":"4.22496637","5":"0.3740","6":"2.79285535","7":"0.840733235","8":"1.935859813","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Belgium","2":"Europe","3":"8.6900","4":"5.72792045","5":"0.4960","6":"3.11935618","7":"0.939019776","8":"2.162172939","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Belize","2":"Americas","3":"1.5000","4":"2.77188558","5":"2.1900","6":"0.58496250","7":"0.176091259","8":"0.405465108","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Benin","2":"Africa","3":"0.6230","4":"1.67807190","5":"3.8900","6":"-0.68269593","7":"-0.205511953","8":"-0.473208760","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Bhutan","2":"Asia","3":"1.6100","4":"3.40599236","5":"2.9700","6":"0.68706069","7":"0.206825876","8":"0.476234179","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Bolivia","2":"Americas","3":"1.9600","4":"3.11270013","5":"1.9200","6":"0.97085365","7":"0.292256071","8":"0.672944473","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Bosnia and Herzegovina","2":"Europe","3":"6.5300","4":"3.88752527","5":"-0.0592","6":"2.70708299","7":"0.814913181","8":"1.876406943","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Botswana","2":"Africa","3":"2.9600","4":"4.06177620","5":"3.2800","6":"1.56559718","7":"0.471291711","8":"1.085189268","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Brazil","2":"Americas","3":"2.1800","4":"3.86789646","5":"1.0800","6":"1.12432814","7":"0.338456494","8":"0.779324877","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Brunei","2":"Asia","3":"18.5000","4":"5.95884267","5":"1.4600","6":"4.20945337","7":"1.267171728","8":"2.917770732","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Bulgaria","2":"Europe","3":"6.3200","4":"4.47897180","5":"-0.2690","6":"2.65992456","7":"0.800717078","8":"1.843719208","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Burkina Faso","2":"Africa","3":"0.1980","4":"1.07038933","5":"4.9800","6":"-2.33642766","7":"-0.703334810","8":"-1.619488248","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Burundi","2":"Africa","3":"0.0467","4":"-0.35845397","5":"5.7000","6":"-4.42043364","7":"-1.330683119","8":"-3.064011114","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Cambodia","2":"Asia","3":"0.6400","4":"1.98913901","5":"3.2500","6":"-0.64385619","7":"-0.193820026","8":"-0.446287103","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Cameroon","2":"Africa","3":"0.3230","4":"1.89917563","5":"3.6800","6":"-1.63039393","7":"-0.490797478","8":"-1.130102956","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Canada","2":"Americas","3":"15.3000","4":"5.61765112","5":"1.4900","6":"3.93545975","7":"1.184691431","8":"2.727852828","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Cape Verde","2":"Africa","3":"1.1600","4":"2.77820858","5":"1.8800","6":"0.21412481","7":"0.064457989","8":"0.148420005","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Central African Republic","2":"Africa","3":"0.0651","4":"0.04264434","5":"2.4500","6":"-3.94119865","7":"-1.186419011","8":"-2.731830730","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Chad","2":"Africa","3":"0.0656","4":"0.66902677","5":"3.9000","6":"-3.93016037","7":"-1.183096161","8":"-2.724179583","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Chile","2":"Americas","3":"4.5900","4":"4.62058641","5":"1.4800","6":"2.19849415","7":"0.661812686","8":"1.523880024","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"China","2":"Asia","3":"7.0600","4":"3.94485845","5":"2.5000","6":"2.81966818","7":"0.848804701","8":"1.954445052","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Colombia","2":"Americas","3":"1.9600","4":"3.87774425","5":"1.9400","6":"0.97085365","7":"0.292256071","8":"0.672944473","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Comoros","2":"Africa","3":"0.2630","4":"1.65076456","5":"2.8700","6":"-1.92686530","7":"-0.580044252","8":"-1.335601247","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Congo, Dem. Rep.","2":"Africa","3":"0.0243","4":"0.11103131","5":"4.5400","6":"-5.36289988","7":"-1.614393726","8":"-3.717278929","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Congo, Rep.","2":"Africa","3":"0.6170","4":"1.77820858","5":"3.2700","6":"-0.69665761","7":"-0.209714836","8":"-0.482886255","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Costa Rica","2":"Americas","3":"1.6100","4":"4.33628339","5":"1.9800","6":"0.68706069","7":"0.206825876","8":"0.476234179","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Cote d'Ivoire","2":"Africa","3":"0.3350","4":"2.31034012","5":"3.4500","6":"-1.57776700","7":"-0.474955193","8":"-1.093624747","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Croatia","2":"Europe","3":"4.4800","4":"4.83289001","5":"-0.4010","6":"2.16349873","7":"0.651278014","8":"1.499623046","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Cuba","2":"Americas","3":"2.5300","4":"NA","5":"0.0681","6":"1.33913738","7":"0.403120521","8":"0.928219303","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Cyprus","2":"Europe","3":"6.3000","4":"5.28909670","5":"0.7700","6":"2.65535183","7":"0.799340549","8":"1.840549633","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Czech Republic","2":"Europe","3":"9.9400","4":"5.28169825","5":"0.4930","6":"3.31324585","7":"0.997386384","8":"2.296567021","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Denmark","2":"Europe","3":"6.0600","4":"5.88508623","5":"0.6290","6":"2.59931779","7":"0.782472624","8":"1.801709800","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Djibouti","2":"Africa","3":"0.6720","4":"2.34766566","5":"1.7200","6":"-0.57346686","7":"-0.172630727","8":"-0.397496938","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Dominican Republic","2":"Americas","3":"2.3400","4":"4.12101540","5":"2.0700","6":"1.22650853","7":"0.369215857","8":"0.850150929","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Ecuador","2":"Americas","3":"2.4600","4":"3.52356196","5":"2.0000","6":"1.29865832","7":"0.390935107","8":"0.900161350","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Egypt","2":"Africa","3":"2.4300","4":"3.49825087","5":"2.0300","6":"1.28095631","7":"0.385606274","8":"0.887891257","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"El Salvador","2":"Americas","3":"1.1100","4":"3.05658353","5":"1.5500","6":"0.15055968","7":"0.045322979","8":"0.104360015","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Equatorial Guinea","2":"Africa","3":"4.3500","4":"4.00000000","5":"4.3400","6":"2.12101540","7":"0.638489257","8":"1.470175845","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Eritrea","2":"Africa","3":"0.2150","4":"0.94335876","5":"NA","6":"-2.21759144","7":"-0.667561540","8":"-1.537117251","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Estonia","2":"Europe","3":"14.8000","4":"5.15785217","5":"0.5850","6":"3.88752527","7":"1.170261715","8":"2.694627181","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Eswatini","2":"Africa","3":"1.0600","4":"3.02325535","5":"1.7500","6":"0.08406426","7":"0.025305865","8":"0.058268908","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Ethiopia","2":"Africa","3":"0.1370","4":"1.09761080","5":"4.8300","6":"-2.86775220","7":"-0.863279433","8":"-1.987774353","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Fiji","2":"Asia","3":"2.4100","4":"3.73335434","5":"1.5900","6":"1.26903315","7":"0.382017043","8":"0.879626748","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Finland","2":"Europe","3":"8.5200","4":"5.63807384","5":"0.1990","6":"3.09085343","7":"0.930439595","8":"2.142416341","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"France","2":"Europe","3":"5.2000","4":"5.57591736","5":"0.6030","6":"2.37851162","7":"0.716003344","8":"1.648658626","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Gabon","2":"Africa","3":"2.5300","4":"3.81762326","5":"3.0500","6":"1.33913738","7":"0.403120521","8":"0.928219303","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Gambia","2":"Africa","3":"0.2680","4":"1.11769504","5":"4.0500","6":"-1.89969509","7":"-0.571865206","8":"-1.316768298","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Georgia","2":"Europe","3":"2.6400","4":"3.80735492","5":"0.6470","6":"1.40053793","7":"0.421603927","8":"0.970778917","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Germany","2":"Europe","3":"9.1400","4":"5.83289001","5":"0.3670","6":"3.19219417","7":"0.960946196","8":"2.212660385","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Ghana","2":"Africa","3":"0.6150","4":"2.37851162","5":"3.3600","6":"-0.70134168","7":"-0.211124884","8":"-0.486133011","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Greece","2":"Europe","3":"7.0300","4":"4.87282876","5":"0.2210","6":"2.81352469","7":"0.846955325","8":"1.950186706","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Grenada","2":"Americas","3":"2.4300","4":"3.96347412","5":"0.8170","6":"1.28095631","7":"0.385606274","8":"0.887891257","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Guatemala","2":"Americas","3":"1.0700","4":"3.08576455","5":"2.3400","6":"0.09761080","7":"0.029383778","8":"0.067658648","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Guinea","2":"Africa","3":"0.2560","4":"1.30451104","5":"3.8000","6":"-1.96578428","7":"-0.591760035","8":"-1.362577835","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Guinea-Bissau","2":"Africa","3":"0.1810","4":"0.91073266","5":"3.4600","6":"-2.46593840","7":"-0.742321425","8":"-1.709258248","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Guyana","2":"Americas","3":"3.1200","4":"3.66675659","5":"0.7440","6":"1.64154603","7":"0.494154594","8":"1.137833002","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Haiti","2":"Americas","3":"0.2700","4":"1.70043972","5":"2.9700","6":"-1.88896869","7":"-0.568636236","8":"-1.309333320","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Honduras","2":"Americas","3":"1.0400","4":"2.42223300","5":"2.7900","6":"0.05658353","7":"0.017033339","8":"0.039220713","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Hong Kong, China","2":"Asia","3":"5.8600","4":"6.03342300","5":"0.7990","6":"2.55090066","7":"0.767897616","8":"1.768149604","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Hungary","2":"Europe","3":"5.1400","4":"4.94016675","5":"0.2790","6":"2.36176836","7":"0.710963119","8":"1.637053079","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Iceland","2":"Europe","3":"10.8000","4":"5.76288029","5":"2.7200","6":"3.43295941","7":"1.033423755","8":"2.379546134","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"India","2":"Asia","3":"1.9600","4":"2.72246602","5":"2.3100","6":"0.97085365","7":"0.292256071","8":"0.672944473","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Indonesia","2":"Asia","3":"2.3000","4":"3.49825087","5":"2.3500","6":"1.20163386","7":"0.361727836","8":"0.832909123","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Iran","2":"Asia","3":"8.8100","4":"3.79701298","5":"2.0600","6":"3.13914202","7":"0.944975908","8":"2.175887440","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Iraq","2":"Asia","3":"5.3200","4":"3.41953889","5":"2.6000","6":"2.41142625","7":"0.725911632","8":"1.671473303","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Ireland","2":"Europe","3":"8.0900","4":"6.03342300","5":"1.5900","6":"3.01613970","7":"0.907948522","8":"2.090628731","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Israel","2":"Asia","3":"7.6700","4":"5.31831684","5":"2.0200","6":"2.93922658","7":"0.884795364","8":"2.037316615","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Italy","2":"Europe","3":"5.5800","4":"5.44294350","5":"0.2280","6":"2.48026512","7":"0.746634199","8":"1.719188776","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Jamaica","2":"Americas","3":"2.7900","4":"3.26153081","5":"1.0100","6":"1.48026512","7":"0.445604203","8":"1.026041596","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Japan","2":"Asia","3":"9.1400","4":"5.45285896","5":"-0.1140","6":"3.19219417","7":"0.960946196","8":"2.212660385","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Jordan","2":"Asia","3":"2.4200","4":"3.35049725","5":"2.0700","6":"1.27500705","7":"0.383815366","8":"0.883767540","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Kazakhstan","2":"Asia","3":"17.6000","4":"4.51727569","5":"1.4700","6":"4.13750352","7":"1.245512668","8":"2.867898902","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Kenya","2":"Africa","3":"0.3600","4":"2.13093087","5":"4.0500","6":"-1.47393119","7":"-0.443697499","8":"-1.021651248","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Kiribati","2":"Asia","3":"0.6010","4":"2.10097765","5":"2.9500","6":"-0.73456310","7":"-0.221125528","8":"-0.509160344","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Kuwait","2":"Asia","3":"23.7000","4":"5.87036472","5":"1.9800","6":"4.56681515","7":"1.374748346","8":"3.165475048","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Kyrgyzstan","2":"Asia","3":"1.6000","4":"2.35049725","5":"2.5900","6":"0.67807191","7":"0.204119983","8":"0.470003629","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Lao","2":"Asia","3":"2.7400","4":"2.88947354","5":"3.3800","6":"1.45417589","7":"0.437750563","8":"1.007957920","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Latvia","2":"Europe","3":"3.7300","4":"4.92599942","5":"-0.6810","6":"1.89917563","7":"0.571708832","8":"1.316408234","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Lebanon","2":"Asia","3":"3.5300","4":"4.00000000","5":"0.7710","6":"1.81966818","7":"0.547774705","8":"1.261297871","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Lesotho","2":"Africa","3":"1.2600","4":"1.60880924","5":"2.3100","6":"0.33342373","7":"0.100370545","8":"0.231111721","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Liberia","2":"Africa","3":"0.3240","4":"0.46466827","5":"3.3400","6":"-1.62593428","7":"-0.489454990","8":"-1.127011763","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Libya","2":"Africa","3":"8.0900","4":"3.97269265","5":"1.8300","6":"3.01613970","7":"0.907948522","8":"2.090628731","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Lithuania","2":"Europe","3":"4.8400","4":"5.14159628","5":"-0.7130","6":"2.27500705","7":"0.684845362","8":"1.576914721","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Luxembourg","2":"Europe","3":"15.9000","4":"6.37155886","5":"2.2100","6":"3.99095486","7":"1.201397124","8":"2.766319109","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Madagascar","2":"Africa","3":"0.1630","4":"0.66902677","5":"4.4800","6":"-2.61705613","7":"-0.787812396","8":"-1.814005078","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Malawi","2":"Africa","3":"0.0762","4":"0.56559718","5":"3.9700","6":"-3.71406519","7":"-1.118045029","8":"-2.574393816","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Malaysia","2":"Asia","3":"8.0800","4":"4.77610399","5":"2.1300","6":"3.01435529","7":"0.907411361","8":"2.089391873","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Maldives","2":"Asia","3":"2.9600","4":"4.12928302","5":"4.9000","6":"1.56559718","7":"0.471291711","8":"1.085189268","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Mali","2":"Africa","3":"0.1870","4":"1.18269230","5":"4.8800","6":"-2.41888982","7":"-0.728158393","8":"-1.676646662","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Malta","2":"Europe","3":"3.6100","4":"5.35755200","5":"3.5600","6":"1.85199884","7":"0.557507202","8":"1.283707772","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Marshall Islands","2":"Oceania","3":"2.5800","4":"2.31903982","5":"1.1300","6":"1.36737107","7":"0.411619706","8":"0.947789399","9":"0","10":"0","11":"0","12":"0","13":"1"},{"1":"Mauritania","2":"Africa","3":"0.6050","4":"2.40326772","5":"4.3700","6":"-0.72499295","7":"-0.218244625","8":"-0.502526821","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Mauritius","2":"Africa","3":"3.8300","4":"4.67242534","5":"-0.0631","6":"1.93734439","7":"0.583198774","8":"1.342864803","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Mexico","2":"Americas","3":"3.7900","4":"4.29278175","5":"1.4900","6":"1.92219785","7":"0.578639210","8":"1.332366019","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Micronesia","2":"Asia","3":"1.3400","4":"1.85996955","5":"1.4700","6":"0.42223300","7":"0.127104798","8":"0.292669614","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Moldova","2":"Europe","3":"1.2700","4":"3.73335434","5":"-1.5500","6":"0.34482850","7":"0.103803721","8":"0.239016900","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Mongolia","2":"Asia","3":"8.8800","4":"3.48542683","5":"1.9200","6":"3.15055968","7":"0.948412966","8":"2.183801557","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Montenegro","2":"Europe","3":"3.2000","4":"4.44625623","5":"0.4810","6":"1.67807191","7":"0.505149978","8":"1.163150810","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Morocco","2":"Africa","3":"1.8400","4":"2.90303827","5":"2.1300","6":"0.87970577","7":"0.264817823","8":"0.609765572","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Mozambique","2":"Africa","3":"0.2810","4":"0.36737107","5":"4.4100","6":"-1.83135796","7":"-0.551293680","8":"-1.269400610","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Myanmar","2":"Asia","3":"0.4910","4":"2.15055968","5":"1.4500","6":"-1.02620507","7":"-0.308918508","8":"-0.711311151","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Namibia","2":"Africa","3":"1.7500","4":"3.31469653","5":"3.9600","6":"0.80735492","7":"0.243038049","8":"0.559615788","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Nauru","2":"Oceania","3":"4.7100","4":"4.22496637","5":"0.9500","6":"2.23572706","7":"0.673020907","8":"1.549687908","9":"0","10":"0","11":"0","12":"0","13":"1"},{"1":"Nepal","2":"Asia","3":"0.3370","4":"1.95977015","5":"3.7300","6":"-1.56917950","7":"-0.472370099","8":"-1.087672349","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Netherlands","2":"Europe","3":"9.4800","4":"5.87036472","5":"1.0400","6":"3.24488706","7":"0.976808337","8":"2.249184316","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"New Zealand","2":"Oceania","3":"7.3400","4":"5.35755200","5":"1.8700","6":"2.87578006","7":"0.865696060","8":"1.993338843","9":"0","10":"0","11":"0","12":"0","13":"1"},{"1":"Nicaragua","2":"Americas","3":"0.8620","4":"2.47767733","5":"1.6400","6":"-0.21424023","7":"-0.064492734","8":"-0.148500008","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Niger","2":"Africa","3":"0.1030","4":"0.36737107","5":"4.2700","6":"-3.27928376","7":"-0.987162775","8":"-2.273026291","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Nigeria","2":"Africa","3":"0.6500","4":"2.33342373","5":"4.2400","6":"-0.62148838","7":"-0.187086643","8":"-0.430782916","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"North Korea","2":"Asia","3":"NA","4":"NA","5":"0.8280","6":"NA","7":"NA","8":"NA","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"North Macedonia","2":"Europe","3":"3.4900","4":"4.00898878","5":"0.6890","6":"1.80322704","7":"0.542825427","8":"1.249901736","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Norway","2":"Europe","3":"8.3100","4":"6.17791779","5":"1.1200","6":"3.05484848","7":"0.919601024","8":"2.117459609","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Oman","2":"Asia","3":"13.9000","4":"4.97269265","5":"4.6100","6":"3.79701298","7":"1.143014800","8":"2.631888840","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Pakistan","2":"Asia","3":"1.0500","4":"2.25398927","5":"2.6700","6":"0.07038933","7":"0.021189299","8":"0.048790164","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Palau","2":"Oceania","3":"13.2000","4":"4.27798475","5":"1.2800","6":"3.72246602","7":"1.120573931","8":"2.580216830","9":"0","10":"0","11":"0","12":"0","13":"1"},{"1":"Palestine","2":"Asia","3":"0.6610","4":"2.92219785","5":"2.8900","6":"-0.59727782","7":"-0.179798541","8":"-0.414001439","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Panama","2":"Americas","3":"2.6200","4":"4.88752527","5":"2.2000","6":"1.38956681","7":"0.418301291","8":"0.963174318","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Papua New Guinea","2":"Asia","3":"0.9110","4":"2.06350294","5":"2.4800","6":"-0.13447704","7":"-0.040481623","8":"-0.093212382","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Paraguay","2":"Americas","3":"1.0700","4":"3.66675659","5":"1.7500","6":"0.09761080","7":"0.029383778","8":"0.067658648","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Peru","2":"Americas","3":"1.7400","4":"3.63226821","5":"1.9600","6":"0.79908731","7":"0.240549248","8":"0.553885113","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Philippines","2":"Asia","3":"1.2700","4":"3.27052894","5":"1.8800","6":"0.34482850","7":"0.103803721","8":"0.239016900","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Poland","2":"Europe","3":"9.0700","4":"4.93545975","5":"-0.0784","6":"3.18110255","7":"0.957607287","8":"2.204972264","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Portugal","2":"Europe","3":"4.9700","4":"5.09169983","5":"0.7010","6":"2.31324585","7":"0.696356389","8":"1.603419840","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Qatar","2":"Asia","3":"38.0000","4":"6.51254295","5":"2.1300","6":"5.24792751","7":"1.579783597","8":"3.637586160","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Romania","2":"Europe","3":"3.8000","4":"4.84799691","5":"-0.4730","6":"1.92599942","7":"0.579783597","8":"1.335001067","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Russia","2":"Europe","3":"11.7000","4":"4.81249822","5":"0.1770","6":"3.54843662","7":"1.068185862","8":"2.459588842","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Rwanda","2":"Africa","3":"0.0913","4":"1.04264434","5":"3.1500","6":"-3.45324133","7":"-1.039529222","8":"-2.393604491","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Samoa","2":"Asia","3":"1.3200","4":"2.65764001","5":"-0.7430","6":"0.40053793","7":"0.120573931","8":"0.277631737","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Sao Tome and Principe","2":"Africa","3":"0.5870","4":"2.03210084","5":"3.0400","6":"-0.76856759","7":"-0.231361899","8":"-0.532730459","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Saudi Arabia","2":"Asia","3":"18.4000","4":"5.62058641","5":"2.0700","6":"4.20163386","7":"1.264817823","8":"2.912350665","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Senegal","2":"Africa","3":"0.7390","4":"1.72246602","5":"3.7400","6":"-0.43635373","7":"-0.131355562","8":"-0.302457358","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Serbia","2":"Europe","3":"5.1700","4":"4.07038933","5":"-0.2790","6":"2.37016428","7":"0.713490543","8":"1.642872689","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Seychelles","2":"Africa","3":"6.7500","4":"4.78135971","5":"1.7200","6":"2.75488750","7":"0.829303773","8":"1.909542505","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Sierra Leone","2":"Africa","3":"0.1410","4":"0.65992456","5":"3.1400","6":"-2.82623293","7":"-0.850780887","8":"-1.958995389","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Singapore","2":"Asia","3":"7.1000","4":"6.47411151","5":"0.4700","6":"2.82781902","7":"0.851258349","8":"1.960094784","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Slovak Republic","2":"Europe","3":"6.6100","4":"4.94485845","5":"0.0920","6":"2.72465027","7":"0.820201459","8":"1.888583654","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Slovenia","2":"Europe","3":"6.9500","4":"5.26303441","5":"0.8550","6":"2.79701298","7":"0.841984805","8":"1.938741660","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Solomon Islands","2":"Asia","3":"0.2730","4":"1.44890095","5":"4.5800","6":"-1.87302714","7":"-0.563837353","8":"-1.298283484","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Somalia","2":"Africa","3":"0.0466","4":"0.20163386","5":"4.1300","6":"-4.42352623","7":"-1.331614083","8":"-3.066154738","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"South Africa","2":"Africa","3":"8.1000","4":"3.78659636","5":"2.1300","6":"3.01792191","7":"0.908485019","8":"2.091864062","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"South Korea","2":"Asia","3":"12.9000","4":"5.43295941","5":"0.3800","6":"3.68929916","7":"1.110589710","8":"2.557227311","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Spain","2":"Europe","3":"5.7500","4":"5.35049725","5":"0.7380","6":"2.52356196","7":"0.759667845","8":"1.749199855","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Sri Lanka","2":"Asia","3":"1.1000","4":"3.67807190","5":"1.5500","6":"0.13750352","7":"0.041392685","8":"0.095310180","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"St. Lucia","2":"Americas","3":"2.3100","4":"3.88752527","5":"0.8690","6":"1.20789285","7":"0.363611980","8":"0.837247525","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"St. Vincent and the Grenadines","2":"Americas","3":"2.0300","4":"3.66675659","5":"1.1500","6":"1.02147973","7":"0.307496038","8":"0.708035793","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Sudan","2":"Africa","3":"0.5040","4":"2.07382023","5":"3.1800","6":"-0.98850436","7":"-0.297569464","8":"-0.685179011","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Suriname","2":"Americas","3":"3.1000","4":"4.13750352","5":"0.9860","6":"1.63226822","7":"0.491361694","8":"1.131402111","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Sweden","2":"Europe","3":"4.1200","4":"5.76818433","5":"1.4900","6":"2.04264434","7":"0.614897216","8":"1.415853163","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Switzerland","2":"Europe","3":"4.3300","4":"6.10433666","5":"0.7850","6":"2.11436702","7":"0.636487896","8":"1.465567542","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Syria","2":"Asia","3":"1.6700","4":"2.22774108","5":"0.3450","6":"0.73984810","7":"0.222716471","8":"0.512823626","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Taiwan","2":"Asia","3":"11.6000","4":"5.97030150","5":"NA","6":"3.53605290","7":"1.064457989","8":"2.451005098","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Tajikistan","2":"Asia","3":"0.6030","4":"2.01792191","5":"3.0200","6":"-0.72977009","7":"-0.219682688","8":"-0.505838082","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Tanzania","2":"Africa","3":"0.2220","4":"1.38956681","5":"5.1400","6":"-2.17136842","7":"-0.653647026","8":"-1.505077897","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Thailand","2":"Asia","3":"4.1500","4":"4.13750352","5":"1.8300","6":"2.05311134","7":"0.618048097","8":"1.423108334","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Timor-Leste","2":"Asia","3":"0.4120","4":"2.17951105","5":"3.1700","6":"-1.27928376","7":"-0.385102784","8":"-0.886731930","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Togo","2":"Africa","3":"0.4340","4":"1.08406427","5":"3.7500","6":"-1.20423305","7":"-0.362510270","8":"-0.834710745","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Tonga","2":"Asia","3":"1.3100","4":"2.79908731","5":"1.0000","6":"0.38956681","7":"0.117271296","8":"0.270027137","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Trinidad and Tobago","2":"Americas","3":"31.3000","4":"4.70597790","5":"0.3770","6":"4.96809075","7":"1.495544338","8":"3.443618098","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Tunisia","2":"Africa","3":"2.7300","4":"3.49825087","5":"1.5900","6":"1.44890095","7":"0.436162647","8":"1.004301609","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Turkey","2":"Europe","3":"5.2000","4":"4.78135971","5":"2.1600","6":"2.37851162","7":"0.716003344","8":"1.648658626","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"Turkmenistan","2":"Asia","3":"13.7000","4":"3.86789646","5":"2.4600","6":"3.77610399","7":"1.136720567","8":"2.617395833","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Tuvalu","2":"Oceania","3":"1.0100","4":"2.60407132","5":"2.6100","6":"0.01435529","7":"0.004321374","8":"0.009950331","9":"0","10":"0","11":"0","12":"0","13":"1"},{"1":"Uganda","2":"Africa","3":"0.1350","4":"1.07724300","5":"6.1900","6":"-2.88896869","7":"-0.869666232","8":"-2.002480501","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Ukraine","2":"Europe","3":"5.0900","4":"3.67807190","5":"-0.3130","6":"2.34766566","7":"0.706717782","8":"1.627277831","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"United Arab Emirates","2":"Asia","3":"21.4000","4":"6.10433666","5":"1.8200","6":"4.41953889","7":"1.330413773","8":"3.063390922","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"United Kingdom","2":"Europe","3":"5.6500","4":"5.55151602","5":"0.9120","6":"2.49825087","7":"0.752048448","8":"1.731655545","9":"0","10":"0","11":"0","12":"1","13":"0"},{"1":"United States","2":"Americas","3":"16.6000","4":"6.00225245","5":"0.7670","6":"4.05311134","7":"1.220108088","8":"2.809402695","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Uruguay","2":"Americas","3":"2.0100","4":"4.47897180","5":"0.4660","6":"1.00719550","7":"0.303196057","8":"0.698134722","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Uzbekistan","2":"Asia","3":"2.8100","4":"2.89917563","5":"1.5900","6":"1.49057013","7":"0.448706320","8":"1.033184483","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Vanuatu","2":"Asia","3":"0.5290","4":"1.70487196","5":"2.9200","6":"-0.91866037","7":"-0.276544328","8":"-0.636766847","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Venezuela","2":"Americas","3":"4.8100","4":"2.61022759","5":"-1.7400","6":"2.26603689","7":"0.682145076","8":"1.570697084","9":"0","10":"0","11":"1","12":"0","13":"0"},{"1":"Vietnam","2":"Asia","3":"2.1600","4":"2.86195536","5":"2.9800","6":"1.11103131","7":"0.334453751","8":"0.770108222","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Yemen","2":"Asia","3":"0.3560","4":"0.99783433","5":"4.0800","6":"-1.49005085","7":"-0.448550002","8":"-1.032824548","9":"0","10":"1","11":"0","12":"0","13":"0"},{"1":"Zambia","2":"Africa","3":"0.3020","4":"1.82781902","5":"4.1700","6":"-1.72737955","7":"-0.519993057","8":"-1.197328262","9":"1","10":"0","11":"0","12":"0","13":"0"},{"1":"Zimbabwe","2":"Africa","3":"0.8500","4":"1.98185265","5":"1.3200","6":"-0.23446525","7":"-0.070581074","8":"-0.162518929","9":"1","10":"0","11":"0","12":"0","13":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>We will start by fitting a model that includes the main-effect of world region in addition to our effects of wealth and urbanization. As always, when we have multiple dummy variables representing a predictor, we include all but one of the dummies in the model. Here we will omit Oceania (our reference group).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit model</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.4</span> <span class="ot">=</span> <span class="fu">lm</span>(<span class="fu">log</span>(co2) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth <span class="sc">+</span> <span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> urbanization <span class="sc">+</span> asia <span class="sc">+</span> africa <span class="sc">+</span> americas <span class="sc">+</span> europe, <span class="at">data =</span> carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We also want to include our interactions between world region and wealth. To do this we have to include multiple interaction terms because we have multiple dummy variables. For example, here is the model that includes interactions between region and the lineqar effect of wealth and region and the quadratic effects of wealth where, once again, Oceania is our references group.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit model</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.5</span> <span class="ot">=</span> <span class="fu">lm</span>(<span class="fu">log</span>(co2) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> wealth <span class="sc">+</span> <span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> urbanization <span class="sc">+</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>            asia <span class="sc">+</span> africa <span class="sc">+</span> americas <span class="sc">+</span> europe <span class="sc">+</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>            asia<span class="sc">:</span>wealth <span class="sc">+</span> africa<span class="sc">:</span>wealth <span class="sc">+</span> americas<span class="sc">:</span>wealth <span class="sc">+</span> europe<span class="sc">:</span>wealth <span class="sc">+</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>            asia<span class="sc">:</span><span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> africa<span class="sc">:</span><span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> americas<span class="sc">:</span><span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> europe<span class="sc">:</span><span class="fu">I</span>(wealth<span class="sc">^</span><span class="dv">2</span>),</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">data =</span> carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Evaluating these models:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aictab</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">cand.set =</span> <span class="fu">list</span>(lm<span class="fl">.3</span>, lm<span class="fl">.4</span>, lm<span class="fl">.5</span>),</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modnames =</span> <span class="fu">c</span>(<span class="st">"No world region"</span>, <span class="st">"Main effect of region"</span>, <span class="st">"Interaction between region and wealth"</span>)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Modnames"],"name":[1],"type":["chr"],"align":["left"]},{"label":["K"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AICc"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Delta_AICc"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["ModelLik"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["AICcWt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["LL"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Cum.Wt"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"Main effect of region","2":"9","3":"296.2077","4":"0.00000","5":"1.0000000000","6":"0.9980672515","7":"-138.5896","8":"0.9980673","_rn_":"2"},{"1":"Interaction between region and wealth","2":"17","3":"308.8733","4":"12.66561","5":"0.0017770460","6":"0.0017736114","7":"-135.6043","8":"0.9998409","_rn_":"3"},{"1":"No world region","2":"5","3":"313.6953","4":"17.48762","5":"0.0001594452","6":"0.0001591371","7":"-151.6801","8":"1.0000000","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Here, the empirical evidence favors the model that includes the main effect of world region indicating that there is not evidence of an interaction between world region and wealth. Below we look at the coefficients and write the fitted equation.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(lm<span class="fl">.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> (Intercept)       wealth  I(wealth^2) urbanization         asia       africa 
  -2.1432012    1.2799732   -0.0693486   -0.0977616   -0.1547836   -0.3577002 
    americas       europe 
  -0.5942931   -0.7134999 </code></pre>
</div>
</div>
<p><span class="math display">\[
\begin{split}
\ln\left(\widehat{\mathrm{CO2}_i}\right) = &amp;-2.14 + 1.28(\mathrm{Wealth}_i) -0.07(\mathrm{Wealth}_i^2) - 0.10(\mathrm{Urbanization}_i) \\
&amp;-0.16(\mathrm{Asia}_i) - .36(\mathrm{Africa}_i) - .59(\mathrm{Americas}_i) - 0.71(\mathrm{Europe}_i)
\end{split}
\]</span></p>
<p>Recall that the coefficients associated with the different regions are comparisons to the reference group. For example, the Asia coefficient indicates that Asia has lower log-CO2 emissions than Oceania by 0.16, on average, controlling for differences in wealth and urbanization. We can also back transform this and interpret it as percent change:</p>
<p><span class="math display">\[
e^{-.16} - 1 = -.147
\]</span></p>
<blockquote class="blockquote">
<p>Asia’s carbon emissions are 14.7% lower than Oceania’s carbon emissions, on average, controlling for differences in wealth and urbanization.</p>
</blockquote>
<p>In this analysis, we are most interested in the effect of wealth on CO2 emissions. So I will again create a plot of this model’s results. After creating this plot we can describe any regional differences, but we will not make inferences about regional differences. To create this plot I will set urbanization to its mean level (2.00) and then produce a fitted equation for each world region. I will do this with the back-transformed outcome.</p>
<div class="protip">
<p>If the goal of the analysis was to compare different regions, you would have to fit other models to make the different comparisons. If we were using <em>p</em>-values for variable selection, you would also have to adjust based on the total number of pairwise (region-to-region) comparisons using something like the Boferroni or Benjamini-Hochberg adjustments. However, it is less clear how to view multiple comparisons when using information criteria. <span class="citation" data-cites="Dayton:1998">Dayton (<a href="#ref-Dayton:1998" role="doc-biblioref">1998</a>)</span> laid out a framework for using measures such as AIC for the multiple comparisons problem.</p>
</div>
<p><strong>Asia</strong></p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= e^{-2.14} \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times e^{-.10(2.00)} \times e^{-.16(1)} \times e^{-.36(0)} \times e^{-.59(0)} \times e^{-.71(0)}\\[2ex]
&amp;= .117 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times .819 \times .852  \times 1 \times 1 \times 1\\[2ex]
&amp;= .082 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)}
\end{split}
\]</span></p>
<p>From this we note that the effects of the regions that were not Asia became 1 and dropped out of the model. We can use this in our other world regions to shorten the fitted equation.</p>
<p><strong>Africa</strong></p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= e^{-2.14} \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times e^{-.10(2.00)}  \times e^{-.36(1)} \\[2ex]
&amp;= .117 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times .819 \times .698 \\[2ex]
&amp;= .067 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)}
\end{split}
\]</span></p>
<p><strong>Americas</strong></p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= e^{-2.14} \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times e^{-.10(2.00)}  \times e^{-.59(1)} \\[2ex]
&amp;= .117 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times .819 \times .54 \\[2ex]
&amp;= .053 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)}
\end{split}
\]</span></p>
<p><strong>Europe</strong></p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= e^{-2.14} \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times e^{-.10(2.00)}  \times e^{-.71(1)} \\[2ex]
&amp;= .117 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times .819 \times .491 \\[2ex]
&amp;= .047 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)}
\end{split}
\]</span></p>
<p><strong>Oceania</strong></p>
<p><span class="math display">\[
\begin{split}
\widehat{\mathrm{CO2}_i} &amp;= e^{-2.14} \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times e^{-.10(2.00)} \\[2ex]
&amp;= .117 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)} \times .819 \\[2ex]
&amp;= .096 \times e^{1.28(\mathrm{Wealth}_i)} \times e^{-.07(\mathrm{Wealth}_i^2)}
\end{split}
\]</span></p>
<p>Then we will create our plot by adding one <code>geom_function()</code> layer for each region.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load library for color in caption</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> carbon, <span class="fu">aes</span>(<span class="at">x =</span> wealth, <span class="at">y =</span> co2)) <span class="sc">+</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {.<span class="dv">082</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">1.28</span><span class="sc">*</span>x) <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">0.07</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span>)}, <span class="at">color =</span> <span class="st">"#1b2a41"</span>) <span class="sc">+</span> <span class="co">#Asia</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {.<span class="dv">067</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">1.28</span><span class="sc">*</span>x) <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">0.07</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span>)}, <span class="at">color =</span> <span class="st">"#99c24d"</span>) <span class="sc">+</span> <span class="co">#Africa</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {.<span class="dv">053</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">1.28</span><span class="sc">*</span>x) <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">0.07</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span>)}, <span class="at">color =</span> <span class="st">"#d30c7b"</span>) <span class="sc">+</span> <span class="co">#Americas</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {.<span class="dv">047</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">1.28</span><span class="sc">*</span>x) <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">0.07</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span>)}, <span class="at">color =</span> <span class="st">"#adcad6"</span>) <span class="sc">+</span> <span class="co">#Europe</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x) {.<span class="dv">096</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="fl">1.28</span><span class="sc">*</span>x) <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span><span class="fl">0.07</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span>)}, <span class="at">color =</span> <span class="st">"#bc69aa"</span>) <span class="sc">+</span> <span class="co">#Oceania</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Wealth"</span>) <span class="sc">+</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Predicted CO2 (in metric tons per person)"</span>) <span class="sc">+</span></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Region: &lt;b style = 'color:#1b2a41;'&gt;Asia&lt;/b&gt;, &lt;b style = 'color:#99c24d;'&gt;Africa&lt;/b&gt;, &lt;b style = 'color:#d30c7b;'&gt;Americas&lt;/b&gt;, &lt;b style = 'color:#adcad6;'&gt;Europe&lt;/b&gt;, and &lt;b style = 'color:#bc69aa;'&gt;Oceania&lt;/b&gt;. "</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_textbox_simple</span>()</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-rq3" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rq3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="07-logarithmic-transformations-outcome_files/figure-html/fig-rq3-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rq3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: Plot of predicted carbon emisssions as a function of wealth for the quadratic polynomial model shown for countries from different regions of the world. Urbanization has been adjusted for by setting it to its mean value.
</figcaption>
</figure>
</div>
</div>
</div>
<div class="interpret">
<p><strong>Answering the Third Research Question</strong></p>
<p>Here we see that in general wealthier countries have exponentially increasing CO2 emissions that begins to diminish for countries with exceptionally high wealth levels. This pattern is true for countries with both low and high urbanization, although the countries with higher urbanization have lower exponentially increasing carbon emissions.</p>
</div>
<p><br></p>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Dayton:1998" class="csl-entry" role="listitem">
Dayton, C. M. (1998). Information criteria for the paired-comparisons problem. <em>The American Statistician</em>, <em>52</em>(2), 144–151.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>So long as we can ultimately write this function as a linear model, namely, <span class="math inline">\(Y_i=\beta_0+\beta_1(x_i) + \epsilon_i\)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Mathematically, the instantaneous derivative of the exponential function is is always positive, and it approaches <span class="math inline">\(+\infty\)</span> for larger values of <em>x</em>, while that for the quadratic function changes in sign from negative to positive.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Fun Fact: <em>e</em> also happens to be Andy’s favorite number. Google founders might also enjoy <em>e</em>, as their IPO indicated they were going to raise <em>e</em>-billion dollars (see this <a href="https://www.forbes.com/sites/jayritter/2014/08/07/googles-ipo-10-years-later/?sh=13a7d532e6ca">Forbes article</a>).<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>